(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{121:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a=!0,i=5e3},137:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var a=n(14),i=n(50),r=n(121),c=n(84),s=r.b?["FuLqxfhcrpAwFKiM6zruhGRPcEu6jkf994Ld83LX1qUA"]:["perJWftkVxaifuBW3LBSuSVn9NyVBHguBX83Wr4qP4b"],o=i.e.publicKey.findProgramAddressSync([e.from("vault_token_in"),c.b.toBytes()],c.a),l=Object(a.a)(o,1)[0];console.log("VAULT_TOKEN_IN: ".concat(l.toBase58()));var u=i.e.publicKey.findProgramAddressSync([e.from("vault_token_out"),c.b.toBytes()],c.a),d=Object(a.a)(u,1)[0];console.log("VAULT_TOKEN_OUT = ".concat(d.toBase58()))}).call(this,n(8).Buffer)},168:function(e,t,n){"use strict";n(2);var a=n(41),i=n(111),r=n(51),c=n(688),s=Object(c.a)((function(e){return{walletConnectButton:{width:"100%",backgroundColor:"transparent",borderColor:e.palette.common.white,boxShadow:"0 0 5px 2px #ede65f, inset 0 0 10px 0px #ede65f",color:e.palette.common.white,"&:hover":{backgroundColor:Object(r.a)(e.palette.primary.main,.2),borderColor:e.palette.common.white}},walletDisconnectButton:{width:"100%",backgroundColor:"transparent",borderColor:e.palette.common.white,boxShadow:"0 0 5px 2px ".concat(e.palette.secondary.main,", inset 0 0 10px 0px ").concat(e.palette.secondary.main),color:e.palette.common.white,"&:hover":{backgroundColor:Object(r.a)(e.palette.secondary.main,.2),borderColor:e.palette.common.white}}}})),o=n(3);t.a=function(){var e=s(),t=Object(a.e)().connected;return Object(o.jsx)(i.b,{variant:"outlined",color:"secondary",className:t?e.walletDisconnectButton:e.walletConnectButton})}},171:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return k}));var a=n(11),i=n(21),r=n(17),c=n(1),s=n.n(c),o=n(14),l=n(4),u=n(50),d=n(119),p=n(28),m=n(18),j=n(76),b=n(54),f=n(302),h=n(303),x=function(){var t=Object(l.a)(s.a.mark((function t(n,a,i){var r,c,l,u,p,b,f;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.PublicKey.findProgramAddress([n.toBytes(),e.from("proceeds")],a.programId);case 2:return r=t.sent,c=Object(o.a)(r,1),l=c[0],t.next=7,i.getAccountInfo(l);case 7:if(u=t.sent){t.next=10;break}throw Error("Failed to fetch proceeds account");case 10:if(p=Object(d.parseTokenAccount)(u.data),b=j.b.get(p.mint.toString())){t.next=14;break}throw Error("Info not found for proceeds account mint ".concat(p.mint.toString()));case 14:return f={name:b.name,publicKey:p.mint,logoUrl:b.logoURI,symbol:b.symbol,decimals:b.decimals},t.abrupt("return",{address:l,mintInfo:f});case 16:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),O=function(){var t=Object(l.a)(s.a.mark((function t(n,a,i){var r,c,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.PublicKey.findProgramAddress([n.toBuffer(),e.from("prize"),new p.u64(a).toArrayLike(e,"le",4)],i);case 2:return r=t.sent,c=Object(o.a)(r,1),l=c[0],t.abrupt("return",l);case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(s.a.mark((function e(t,n,a){var c,l,u,p,m,j,b,h,x,g,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,Promise.all(Object(r.a)(Array(a).keys()).map((function(e){return O(t,e,n.programId)})));case 3:return l=e.sent,e.next=6,n.provider.connection.getMultipleAccountsInfo(l);case 6:return u=e.sent,p=u.map((function(e){if(!e)throw new Error("Invalid prize account");return Object(d.parseTokenAccount)(e.data)})),e.next=10,Promise.all(p.map((function(e){return Object(f.a)(e.mint)})));case 10:return m=e.sent,e.next=13,n.provider.connection.getMultipleAccountsInfo(m);case 13:j=e.sent,b=Object(i.a)(p.entries()),e.prev=15,b.s();case 17:if((h=b.n()).done){e.next=26;break}return x=Object(o.a)(h.value,2),g=x[0],y=x[1],e.t0=c,e.next=22,v(l[g],y,j[g]);case 22:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t2=e.catch(15),b.e(e.t2);case 31:return e.prev=31,b.f(),e.finish(31);case 34:return e.abrupt("return",c);case 35:case"end":return e.stop()}}),e,null,[[15,28,31,34]])})));return function(t,n,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(s.a.mark((function e(t,n,a){var i,r,c,o,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=j.b.get(n.mint.toString()))){e.next=8;break}return o="".concat(Object(b.d)(n.amount,r)," ").concat(r.symbol),l=null===r||void 0===r||null===(c=r.extensions)||void 0===c?void 0:c.imageURI,i={name:o,publicKey:n.mint,logoUrl:r.logoURI,symbol:r.symbol,decimals:r.decimals},e.abrupt("return",{address:t,mint:i,amount:n.amount,type:h.a.FT,meta:{imageUri:l||r.logoURI}});case 8:if(!a){e.next=14;break}return e.next=11,Object(f.b)(a);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=void 0;case 15:return u=e.t0,d=j.a,i={name:(null===u||void 0===u?void 0:u.name)||d.name,publicKey:n.mint,logoUrl:(null===u||void 0===u?void 0:u.image)||d.logoURI,symbol:d.symbol,decimals:d.decimals},e.abrupt("return",{address:t,mint:i,amount:n.amount,type:h.a.NFTPicture,meta:{name:(null===u||void 0===u?void 0:u.name)||d.name,imageUri:(null===u||void 0===u?void 0:u.image)||d.name}});case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),y=function(e){return e.entrants.slice(0,e.total).reduce((function(e,t,n){var a=e.get(t.toBase58());return a?a.tickets.push(n):e.set(t.toBase58(),{publicKey:t,tickets:[n]}),e}),new Map)},w=function(e,t){for(var n=e.coder.accounts.decode("entrants",t),i=[],r=t.subarray(16),c=0;c<n.max;c++)i.push(new m.PublicKey(r.slice(32*c,32*(c+1))));return Object(a.a)(Object(a.a)({},n),{},{entrants:i})},k=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,i,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provider.connection.getProgramAccounts(t.programId);case 2:return n=e.sent,a=u.c.accountDiscriminator("Raffle"),i=u.c.accountDiscriminator("Entrants"),r=[],c=[],n.forEach((function(e){var n=e.pubkey,s=e.account,o=s.data.slice(0,8);0===a.compare(o)?r.push({publicKey:n,account:t.coder.accounts.decode("raffle",s.data)}):0===i.compare(o)?c.push({publicKey:n,account:w(t,s.data)}):console.log("Could not decode ".concat(n.toBase58()))})),e.abrupt("return",{raffleDataRawProgramAccounts:r,entrantsDataProgramAccounts:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(8).Buffer)},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=new(n(18).PublicKey)("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a,i=n(14),r=n(2),c=n.n(r),s=n(3);!function(e){e[e.Phone=0]="Phone",e[e.Tablet=1]="Tablet",e[e.Desktop=2]="Desktop"}(a||(a={}));var o=c.a.createContext();t.c=function(e){var t=e.children,n=c.a.useState(a.Desktop),r=Object(i.a)(n,2),l=r[0],u=r[1];return c.a.useEffect((function(){var e=function(){window.innerWidth<600&&l!==a.Phone?u(a.Phone):window.innerWidth<768&&l!==a.Tablet?u(a.Tablet):window.innerWidth>=768&&l!==a.Desktop&&u(a.Desktop)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(s.jsx)(o.Provider,{value:{device:l},children:t})}},302:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return N}));var a=n(1),i=n.n(a),r=n(4),c=n(9),s=n(6),o=n(191),l=n(67),u=n(18),d=n(414);Object(d.a)();var p,m,j="metadata",b="edition";!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.MetadataV1=4]="MetadataV1",e[e.EditionV1=1]="EditionV1",e[e.MasterEditionV1=2]="MasterEditionV1",e[e.MasterEditionV2=6]="MasterEditionV2",e[e.EditionMarker=7]="EditionMarker"}(p||(p={})),function(e){e.Audio="audio",e.Video="video",e.Image="image",e.VR="vr"}(m||(m={}));var f=function(){function e(t){Object(s.a)(this,e),this.key=void 0,this.ledger=void 0,this.key=p.EditionMarker,this.ledger=t.ledger}return Object(c.a)(e,[{key:"editionTaken",value:function(e){var t=e%248,n=Math.floor(t/8);if(n>30)throw Error("bad index for edition");var a=7-t%8,i=Math.pow(2,a);return 0!==(this.ledger[n]&i)}}]),e}(),h=function e(t){Object(s.a)(this,e),this.address=void 0,this.verified=void 0,this.share=void 0,this.address=t.address,this.verified=t.verified,this.share=t.share},x=function e(t){Object(s.a)(this,e),this.name=void 0,this.symbol=void 0,this.uri=void 0,this.sellerFeeBasisPoints=void 0,this.creators=void 0,this.name=t.name,this.symbol=t.symbol,this.uri=t.uri,this.sellerFeeBasisPoints=t.sellerFeeBasisPoints,this.creators=t.creators},O=function(){function e(t){Object(s.a)(this,e),this.key=void 0,this.updateAuthority=void 0,this.mint=void 0,this.data=void 0,this.primarySaleHappened=void 0,this.isMutable=void 0,this.editionNonce=void 0,this.masterEdition=void 0,this.edition=void 0,this.key=p.MetadataV1,this.updateAuthority=t.updateAuthority,this.mint=t.mint,this.data=t.data,this.primarySaleHappened=t.primarySaleHappened,this.isMutable=t.isMutable,this.editionNonce=t.editionNonce}return Object(c.a)(e,[{key:"init",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(this.mint);case 2:t=e.sent,this.edition=t,this.masterEdition=t;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),g=new Map([[function e(t){Object(s.a)(this,e),this.instruction=0,this.data=void 0,this.isMutable=void 0,this.data=t.data,this.isMutable=t.isMutable},{kind:"struct",fields:[["instruction","u8"],["data",x],["isMutable","u8"]]}],[function e(t){Object(s.a)(this,e),this.instruction=1,this.data=void 0,this.updateAuthority=void 0,this.primarySaleHappened=void 0,this.data=t.data?t.data:null,this.updateAuthority=t.updateAuthority?t.updateAuthority:null,this.primarySaleHappened=t.primarySaleHappened},{kind:"struct",fields:[["instruction","u8"],["data",{kind:"option",type:x}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}]]}],[function e(t){Object(s.a)(this,e),this.instruction=10,this.maxSupply=void 0,this.maxSupply=t.maxSupply},{kind:"struct",fields:[["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]}],[function e(t){Object(s.a)(this,e),this.instruction=9,this.supply=void 0,this.supply=t.supply},{kind:"struct",fields:[["instruction","u8"],["supply","u64"]]}],[function e(t){Object(s.a)(this,e),this.key=void 0,this.supply=void 0,this.maxSupply=void 0,this.printingMint=void 0,this.oneTimePrintingAuthorizationMint=void 0,this.key=p.MasterEditionV1,this.supply=t.supply,this.maxSupply=t.maxSupply,this.printingMint=t.printingMint,this.oneTimePrintingAuthorizationMint=t.oneTimePrintingAuthorizationMint},{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["printingMint","pubkeyAsString"],["oneTimePrintingAuthorizationMint","pubkeyAsString"]]}],[function e(t){Object(s.a)(this,e),this.key=void 0,this.supply=void 0,this.maxSupply=void 0,this.key=p.MasterEditionV2,this.supply=t.supply,this.maxSupply=t.maxSupply},{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}]]}],[function e(t){Object(s.a)(this,e),this.key=void 0,this.parent=void 0,this.edition=void 0,this.key=p.EditionV1,this.parent=t.parent,this.edition=t.edition},{kind:"struct",fields:[["key","u8"],["parent","pubkeyAsString"],["edition","u64"]]}],[x,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[h]}]]}],[h,{kind:"struct",fields:[["address","pubkeyAsString"],["verified","u8"],["share","u8"]]}],[O,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",x],["primarySaleHappened","u8"],["isMutable","u8"]]}],[f,{kind:"struct",fields:[["key","u8"],["ledger",[31]]]}]]),v=new RegExp("\0","g"),y=function(e){var t=Object(l.deserializeUnchecked)(g,O,e);return t.data.name=t.data.name.replace(v,""),t.data.uri=t.data.uri.replace(v,""),t.data.symbol=t.data.symbol.replace(v,""),t};function w(e){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.PublicKey.findProgramAddress([e.from(j),o.a.toBuffer(),new u.PublicKey(n).toBuffer(),e.from(b)],o.a);case 2:return t.abrupt("return",t.sent[0].toBase58());case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.PublicKey.findProgramAddress([e.from(j),o.a.toBuffer(),n.toBuffer()],o.a);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(e){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y(t.data),e.prev=1,e.next=4,fetch(n.data.uri);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}}).call(this,n(8).Buffer)},303:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.FT="FT",e.NFTPicture="NFTPicture"}(a||(a={}))},414:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(18),i=n(67),r=n(24),c=n.n(r),s=function(){i.BinaryReader.prototype.readPubkey=function(){var e=this.readFixedArray(32);return new a.PublicKey(e)},i.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},i.BinaryReader.prototype.readPubkeyAsString=function(){var e=this.readFixedArray(32);return c.a.encode(e)},i.BinaryWriter.prototype.writePubkeyAsString=function(e){this.writeFixedArray(c.a.decode(e))}}},422:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(56),i=n.n(a),r=n(80);function c(t,n){var a=r.keccak_256.create();return a.update(new Uint8Array(t)),a.update(new i.a(n).toArrayLike(e,"le",4)),new i.a(a.digest().slice(0,4),"le").toNumber()}}).call(this,n(8).Buffer)},423:function(e,t,n){"use strict";(function(e){var a=n(1),i=n.n(a),r=n(4),c=n(17),s=n(14),o=n(2),l=n(435),u=n(696),d=n(690),p=n(438),m=n(694),j=n(436),b=n(698),f=n(439),h=n(193),x=n(41),O=n(70),g=n(83),v=n(18),y=n(50),w=n(424),k=n(28),S=n(54),C=n(52),N=n(311),T=n(76),P=n(425),I=n(3),M=new v.PublicKey("9bZjYwx8yzVGjAtth8AuLCC6AY7Pts5jjX6T7Kb6iNEa"),A=v.Keypair.fromSecretKey(new Uint8Array(JSON.parse("[35,47,18,50,28,119,80,186,159,159,145,243,214,163,99,71,228,6,163,152,124,159,91,101,153,69,149,48,78,9,205,113,105,1,228,23,232,110,138,220,28,135,207,11,98,69,154,41,151,134,243,115,35,76,231,98,131,83,27,108,112,5,57,42]"))),R=A.publicKey,z=Number("173"),B=Number("86400"),D=y.e.publicKey.findProgramAddressSync([e.from("vault"),R.toBytes()],M),E=Object(s.a)(D,1)[0];console.log("vault address: ".concat(E.toBase58()));var K=Object(c.a)(T.b.values()).find((function(e){return"DCT"===e.symbol}));if(!K)throw new Error("Staking token not found");var L=new v.PublicKey(K.address);t.a=function(){var t,n,a=Object(P.a)(),c=Object(x.d)().connection,T=Object(x.c)(),D=Object(o.useState)(),F=Object(s.a)(D,2),U=F[0],G=F[1],H=Object(o.useState)(),W=Object(s.a)(H,2),V=W[0],_=W[1],Y=Object(o.useState)(""),X=Object(s.a)(Y,2),J=X[0],Q=X[1],Z=Object(o.useState)(),q=Object(s.a)(Z,2),$=q[0],ee=q[1],te=Object(o.useMemo)((function(){return new y.d(w.a,M,Object(g.a)(c,T))}),[c,T]),ne=Object(o.useMemo)((function(){if(te.provider.wallet.publicKey){var t=y.e.publicKey.findProgramAddressSync([e.from("stake"),R.toBytes(),te.provider.wallet.publicKey.toBytes()],M);return Object(s.a)(t,1)[0]}}),[te.provider.wallet.publicKey]),ae=Object(o.useMemo)((function(){if(te.provider.wallet.publicKey){var e=Object(S.b)(te.provider.wallet.publicKey,L);return Object(s.a)(e,1)[0]}}),[te.provider.wallet.publicKey]);Object(o.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,te.account.stakeAccount.fetch(ne);case 5:t=e.sent,G(t),console.log(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),G(void 0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}if(te.provider.wallet.publicKey){e();var n=setInterval(e,1e4);return function(){return clearInterval(n)}}G(void 0)}),[te,ne]),Object(o.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getSlot();case 2:return t=e.sent,e.t0=_,e.next=6,c.getBlockTime(t);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e();var n=setInterval(e,1e4);return function(){return clearInterval(n)}}),[c]),Object(o.useEffect)((function(){if(te.provider.wallet.publicKey){var e=setInterval((function(){t()}),5e3);return t(),function(){return clearInterval(e)}}function t(){return n.apply(this,arguments)}function n(){return(n=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ee,e.next=3,Object(S.c)(te.provider,L);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ee(void 0)}),[te.provider]);var ie=Object(o.useMemo)((function(){if(U&&V){var e=U.rewardsEndTimestamp.gte(new y.b(V))?U.rewardsEndTimestamp.sub(new y.b(V)):new y.b(0),t=y.b.min(U.rewardsEndTimestamp,new y.b(V)).sub(U.rewardsStartTimestamp),n=t.mul(U.amount).mul(U.multiplier).mul(new y.b(z)).div(new y.b(1e8)),a=U.rewardsEndTimestamp.sub(U.rewardsStartTimestamp);return{remainingTime:e,pendingRewards:n,progress:a.isZero()?0:t.muln(100).div(a).toNumber()}}}),[U,V]);return Object(I.jsxs)(O.a,{children:[Object(I.jsxs)(l.a,{title:"Stake",children:[Object(I.jsx)(u.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",children:Object(I.jsx)(d.a,{component:"img",src:"/dRaffle-logo.png",className:a.media})}),(null===(t=te.provider.wallet)||void 0===t?void 0:t.publicKey)?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(p.a,{children:U?Object(I.jsxs)("div",{children:["You have"," ",Object(S.d)(U.amount,K)," ",K.symbol," staked, rewards are 15% of the staked amount per day",Object(I.jsx)("br",{}),"Pending rewards"," ",ie?Object(S.d)(ie.pendingRewards,K):"N/A"," ",K.symbol,Object(I.jsx)("br",{}),"Rewards end in"," ",ie?Object(C.e)(ie.remainingTime.toNumber()):"N/A",Object(I.jsx)("br",{}),"Until"," ",U.rewardsEndTimestamp.isZero()?"N/A":new Date(U.rewardsEndTimestamp.muln(1e3).toNumber()).toISOString(),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(m.a,{variant:"determinate",value:(null===ie||void 0===ie?void 0:ie.progress)||0,style:{height:"20px"}}),Object(I.jsx)("br",{}),"You have"," ",$?Object(S.d)($,K):"0"," ",K.symbol]}):"No stake account"}),Object(I.jsx)(j.a,{children:U?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(b.a,{type:"number",value:J,onChange:function(e){var t=e.target;Q(t.value)},placeholder:"0",InputProps:{endAdornment:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(f.a,{position:"end",children:Object(I.jsx)(h.a,{disabled:!$,onClick:function(){$&&Q(Object(S.d)($,K))},children:"MAX"})}),Object(I.jsx)(f.a,{position:"end",children:K.symbol})]}),inputProps:{step:.1}}}),Object(I.jsx)(h.a,{onClick:Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne&&ae){e.next=2;break}return e.abrupt("return");case 2:return t=J?new y.b(N.a(J).mul(N.a(10).pow(K.decimals)).toString()):new y.b(0),e.next=5,Object(g.b)((function(){return te.rpc.stake(t,{accounts:{registry:R,vault:E,staker:te.provider.wallet.publicKey,stakerTokenAccount:ae,stakeAccount:ne,tokenProgram:k.TOKEN_PROGRAM_ID}})}),"Staked!");case 5:Q("");case 6:case"end":return e.stop()}}),e)}))),children:"Stake"}),Object(I.jsx)(h.a,{disabled:!U||U.amount.isZero(),onClick:Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne&&ae){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(g.b)(Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.rpc.unstake({accounts:{registry:R,vault:E,staker:te.provider.wallet.publicKey,stakerTokenAccount:ae,stakeAccount:ne,tokenProgram:k.TOKEN_PROGRAM_ID},instructions:$?void 0:[Object(S.a)(L,ae,te.provider.wallet.publicKey)]}));case 1:case"end":return e.stop()}}),e)}))),"Unstaked!");case 4:case"end":return e.stop()}}),e)}))),children:"Unstake"})]}):Object(I.jsx)(h.a,{onClick:Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(g.b)((function(){return te.rpc.createStakeAccount({accounts:{registry:R,staker:te.provider.wallet.publicKey,stakeAccount:ne,systemProgram:v.SystemProgram.programId}})}),"Stake account created");case 4:case"end":return e.stop()}}),e)}))),children:"Create stake account"})})]}):Object(I.jsx)(p.a,{children:"Connect wallet to start staking"})]}),Object(I.jsx)("br",{}),["86f5xSDrue8Zz4QfuMErURN3o393L72zA1J2WRsYeTGB","2zcTAzzHmvVPWjpFL5PnHhF6yutr5VXq61xueshhPwnU"].includes(null===(n=te.provider.wallet.publicKey)||void 0===n?void 0:n.toBase58())&&Object(I.jsx)(l.a,{title:"Admin",children:Object(I.jsx)(j.a,{children:Object(I.jsx)(h.a,{onClick:Object(r.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.b(B),n=new y.b(z),e.next=4,te.rpc.createRegistry(t,n,{accounts:{registry:R,vault:E,mint:L,admin:te.provider.wallet.publicKey,tokenProgram:k.TOKEN_PROGRAM_ID,systemProgram:v.SystemProgram.programId,rent:v.SYSVAR_RENT_PUBKEY},signers:[A]});case 4:a=e.sent,console.log(a);case 6:case"end":return e.stop()}}),e)}))),children:"Create registry"})})})]})}}).call(this,n(8).Buffer)},424:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={version:"0.0.0",name:"community_staking",instructions:[{name:"createRegistry",accounts:[{name:"registry",isMut:!0,isSigner:!0},{name:"vault",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"rewardPeriod",type:"i64"},{name:"rewardRateNumerator",type:"u64"}]},{name:"updateRegistry",accounts:[{name:"registry",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"rewardPeriod",type:"i64"},{name:"rewardRateNumerator",type:"u64"}]},{name:"assignController",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"controller",isMut:!1,isSigner:!1},{name:"controllerRecord",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateController",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"controller",isMut:!1,isSigner:!1},{name:"controllerRecord",isMut:!0,isSigner:!1}],args:[{name:"enabled",type:{option:"bool"}},{name:"maxMultiplier",type:{option:"u64"}}]},{name:"control",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"controller",isMut:!1,isSigner:!0},{name:"controllerRecord",isMut:!1,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1}],args:[{name:"multiplier",type:"u64"}]},{name:"createStakeAccount",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"staker",isMut:!0,isSigner:!0},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stake",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"staker",isMut:!1,isSigner:!0},{name:"stakerTokenAccount",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"unstake",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"staker",isMut:!0,isSigner:!0},{name:"stakerTokenAccount",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"registry",type:{kind:"struct",fields:[{name:"vault",type:"publicKey"},{name:"admin",type:"publicKey"},{name:"rewardPeriod",type:"i64"},{name:"rewardRateNumerator",type:"u64"},{name:"rewardRateDenominator",type:"u64"}]}},{name:"controllerRecord",type:{kind:"struct",fields:[{name:"enabled",type:"bool"},{name:"maxMultiplier",type:"u64"}]}},{name:"stakeAccount",type:{kind:"struct",fields:[{name:"registry",type:"publicKey"},{name:"amount",type:"u64"},{name:"rewardsStartTimestamp",type:"i64"},{name:"rewardsEndTimestamp",type:"i64"},{name:"multiplier",type:"u64"}]}}],errors:[{code:300,name:"AmountTooLarge",msg:"Amount too large"},{code:301,name:"InvalidCalculation",msg:"Invalid calculation"},{code:302,name:"InsufficientAmount",msg:"Insufficient amount"},{code:303,name:"MultiplierTooLarge",msg:"Multiplier too large"},{code:304,name:"ControllerDisabled",msg:"Controller is disabled"}]}},425:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(688),i=Object(a.a)((function(e){return{media:{maxWidth:"200px",width:"100%"}}}))},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),i=n(22),r=function(){var e=Object(a.useContext)(i.b);if(void 0===e)throw new Error("useViewport must be used within an ViewportContext");return e}},456:function(e,t,n){},457:function(e,t){},459:function(e,t){},466:function(e,t){},481:function(e,t){},482:function(e,t){},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a="/admin_panel",i={HOME:"/",RAFFLES:"/raffles",STAKE:"/stake",TOOLS:"/tools",ADMIN:{HOME:"".concat(a,"/"),RAFFLES:"".concat(a,"/raffles")}}},501:function(e,t){},502:function(e,t){},504:function(e,t){},512:function(e,t){},518:function(e,t){},52:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s}));n(17),n(28);var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.toString(),a=n.length;return"".concat(n.substr(0,t),"...").concat(n.substr(a-t,a))};var i=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},r=function(e,t){var n=t.getTime()-e.getTime();return n<0?{days:0,hours:0,minutes:0,seconds:0}:{days:Math.floor(n/864e5),hours:Math.floor(n%864e5/36e5),minutes:Math.floor(n%36e5/6e4),seconds:Math.floor(n%6e4/1e3)}},c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},s=function(e){return[Math.floor(e/3600),Math.floor(e/60)%60,e%60].map((function(e){return e<10?"0"+e:e})).filter((function(e,t){return"00"!==e||t>0})).join(":")}},534:function(e,t){},538:function(e,t,n){},54:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return j}));var a=n(1),i=n.n(a),r=n(4),c=n(50),s=n(119),o=n(28),l=n(311),u=function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wallet.publicKey){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.connection.getAccountInfo(t.wallet.publicKey);case 4:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.lamports);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Token.getAssociatedTokenAddress(o.ASSOCIATED_TOKEN_PROGRAM_ID,o.TOKEN_PROGRAM_ID,n,t.wallet.publicKey);case 2:return a=e.sent,e.prev=3,e.next=6,Object(s.getTokenAccount)(t,a);case 6:return r=e.sent,e.abrupt("return",r.amount);case 10:return e.prev=10,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(e,t){return l.a(e.toString()).div(Math.pow(10,t.decimals)).toString()},m=function(e,t){return c.e.publicKey.findProgramAddressSync([e.toBuffer(),o.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],o.ASSOCIATED_TOKEN_PROGRAM_ID)},j=function(e,t,n){return o.Token.createAssociatedTokenAccountInstruction(o.ASSOCIATED_TOKEN_PROGRAM_ID,o.TOKEN_PROGRAM_ID,e,t,n,n)}},579:function(e,t){},581:function(e,t){},595:function(e,t){},599:function(e,t){},601:function(e,t){},611:function(e,t){},613:function(e,t){},640:function(e,t){},642:function(e,t){},647:function(e,t){},649:function(e,t){},656:function(e,t){},657:function(e,t){},659:function(e,t){},671:function(e,t){},674:function(e,t){},685:function(e,t){},686:function(e,t,n){},687:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),r=n(46),c=n.n(r),s=(n(456),n(759)),o=n(221),l=n(73),u=n(33),d=n(49),p=n(17),m=n(14),j=n(310),b=n(743),f=n(742),h=n(41),x=n(11),O=n(58),g=n(435),v=n(690),y=n(436),w=n(763),k=n(691),S=n(726),C=n(729),N=n(138),T=n.n(N),P=n(52),I=n(688),M=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"row",width:"100%",maxWidth:"900px",justifyContent:"space-between"}}})),A=n(3),R=function(e){var t=e.endTimestamp,n=e.spacing,i=void 0===n?"0px":n,r=e.className,c=Object(O.a)(e,["endTimestamp","spacing","className"]),s=M(),o=Object(a.useState)(new Date),l=Object(m.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(!1),j=Object(m.a)(p,2),b=j[0],f=j[1],h=Object(a.useMemo)((function(){return Object(P.b)(u,t)}),[u,t]),g=h.days,v=h.hours,y=h.minutes,w=h.seconds;return Object(a.useEffect)((function(){d(new Date);var e=setInterval((function(e){1e3*(new Date).getTime()-e>.2&&d(new Date)}),1e3,1e3*(new Date).getTime());return function(){return clearInterval(e)}}),[d]),b?Object(A.jsxs)("div",Object(x.a)(Object(x.a)({className:"".concat(s.root," ").concat(r)},c),{},{children:[Object(A.jsx)("span",{style:{marginRight:i},children:g}),":",Object(A.jsx)("span",{style:{marginRight:i,marginLeft:i},children:v.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}),":",Object(A.jsx)("span",{style:{marginRight:i,marginLeft:i},children:y.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}),":",Object(A.jsx)("span",{style:{marginLeft:i},children:w.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})})]})):Object(A.jsxs)("div",Object(x.a)(Object(x.a)({className:"".concat(s.root," ").concat(r)},c),{},{children:[Object(A.jsx)("div",{style:{marginRight:i},children:Object(A.jsx)(T.a,{start:0,end:g,delay:0,duration:.8,preserveValue:!0,useEasing:!0,onEnd:function(){return f(!0)},children:function(e){var t=e.countUpRef;return Object(A.jsx)("span",{ref:t})}})}),":",Object(A.jsx)("div",{style:{marginRight:i,marginLeft:i},children:Object(A.jsx)(T.a,{start:0,end:v,delay:0,duration:.8,preserveValue:!0,useEasing:!0,onEnd:function(){return f(!0)},formattingFn:function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},children:function(e){var t=e.countUpRef;return Object(A.jsx)("span",{ref:t})}})}),":",Object(A.jsx)("div",{style:{marginRight:i,marginLeft:i},children:Object(A.jsx)(T.a,{start:0,end:y,delay:0,duration:.8,preserveValue:!0,useEasing:!0,onEnd:function(){return f(!0)},formattingFn:function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},children:function(e){var t=e.countUpRef;return Object(A.jsx)("span",{ref:t})}})}),":",Object(A.jsx)("div",{style:{marginLeft:i},children:Object(A.jsx)(T.a,{start:0,end:w,delay:0,duration:.8,preserveValue:!0,useEasing:!0,onEnd:function(){return f(!0)},formattingFn:function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},children:function(e){var t=e.countUpRef;return Object(A.jsx)("span",{ref:t})}})})]}))},z=n(54),B=Object(I.a)((function(e){return{root:function(e){e.device;return{height:"420px",width:"280px",position:"relative",cursor:"pointer","&:hover":{boxShadow:"0 3px 10px 0 #111",transform:"scale3d(1.02, 1.02, 1)"},"&:active":{transform:"scale3d(1, 1, 1)"}}},media:{height:"250px",minHeight:"250px"},raffleInfo:{display:"flex",flexDirection:"column",justifyContent:"center",fontSize:"18px",padding:"15px"},cardLabel:{fontSize:"15px"},detailsRow1:{color:e.palette.primary.main,fontWeight:"bold",textTransform:"uppercase",marginBottom:"10px"},detailsRow2:{color:e.palette.common.white,display:"flex",flexDirection:"row",width:"100%",marginBottom:"10px"},detailsRow3:{color:e.palette.common.white,display:"flex",flexDirection:"row",width:"100%"},label:{fontSize:"10px",color:"#777"},ticketsSold:{width:"50%"},endingIn:{width:"50%"},ticketPrice:{width:"80%"},goToRaffle:{color:"white","&:hover":{backgroundColor:"transparent"}},cardPrizesBadge:{fontSize:"12px",fontWeight:"bold",width:"80px",textAlign:"center",padding:"2px",position:"absolute",top:"5px",left:"5px",color:"black",backgroundColor:e.palette.secondary.main,borderRadius:"2px",boxShadow:"0 2px 6px 0 #000"},cardEndedBadge:{fontSize:"12px",fontWeight:"bold",width:"50px",textAlign:"center",padding:"2px",position:"absolute",top:"5px",right:"5px",color:"white",backgroundColor:e.palette.primary.main,borderRadius:"2px",boxShadow:"0 2px 6px 0 #000"}}})),D=n(43),E=function(e){var t=e.raffle,n=e.className,i=Object(O.a)(e,["raffle","className"]),r=Object(D.a)().device,c=B({device:r}),s=Object(u.f)().push,o=Object(a.useState)(!1),l=Object(m.a)(o,2),p=l[0],j=l[1],b=Object(a.useState)(!1),f=Object(m.a)(b,2),h=f[0],N=f[1];if(Object(a.useEffect)((function(){var e=setInterval((function(){return j(new Date<t.endTimestamp)}),1e3);return function(){return clearInterval(e)}}),[t,j]),0===t.prizes.length)return null;var T=t.prizes[0],P=t.metadata.overviewImageUri?t.metadata.overviewImageUri:T.meta.imageUri;return Object(A.jsxs)(g.a,Object(x.a)(Object(x.a)({onClick:function(){s("".concat(d.a.RAFFLES,"/").concat(t.publicKey))},className:"".concat(c.root," ").concat(n)},i),{},{children:[Object(A.jsxs)("div",{className:c.cardPrizesBadge,children:[t.prizes.length," prize",t.prizes.length>1&&"s"]}),new Date>t.endTimestamp&&Object(A.jsx)("div",{className:c.cardEndedBadge,children:"Ended"}),!h&&Object(A.jsx)(S.a,{variant:"rect",animation:"wave",classes:{root:c.media}}),Object(A.jsx)(v.a,{component:"img",className:c.media,src:P,alt:T.mint.name,style:h?{}:{display:"none"},onLoad:function(){return N(!0)}}),Object(A.jsxs)(y.a,{className:c.raffleInfo,children:[Object(A.jsx)("div",{className:c.detailsRow1,children:t.metadata.name.length>20?Object(A.jsx)(w.a,{title:t.metadata.name,placement:"top",children:Object(A.jsxs)("div",{children:[t.metadata.name.slice(0,16)," ..."]})}):t.metadata.name}),Object(A.jsxs)("div",{className:c.detailsRow2,children:[Object(A.jsxs)("div",{className:c.ticketsSold,children:[Object(A.jsx)("div",{className:c.label,children:Object(A.jsx)("span",{className:c.cardLabel,children:"Tickets sold"})}),t.totalTickets]}),Object(A.jsxs)("div",{className:c.endingIn,children:[Object(A.jsx)("div",{className:c.label,children:Object(A.jsx)("span",{className:c.cardLabel,children:"Ending in"})}),p?Object(A.jsx)(R,{endTimestamp:t.endTimestamp}):"-"]})]}),Object(A.jsxs)("div",{className:c.detailsRow3,children:[Object(A.jsxs)("div",{className:c.ticketPrice,children:[Object(A.jsx)("div",{className:c.label,children:Object(A.jsx)("span",{className:c.cardLabel,children:"Ticket price"})}),Object(z.d)(t.proceeds.ticketPrice,t.proceeds.mint)," ",t.proceeds.mint.symbol]}),Object(A.jsx)("div",{children:Object(A.jsx)(k.a,{className:c.goToRaffle,children:Object(A.jsx)(C.a,{})})})]})]})]}))},K=n(22),L=Object(I.a)((function(e){return{rafflesGrid:{display:"flex",flexGrow:"initial",width:"100%"},titleBar:function(e){return{marginBottom:e.device===K.a.Phone?"20px":"50px"}},mainContent:{marginTop:"100px",textAlign:"center"},raffleCardContainer:function(e){return{margin:e.device===K.a.Phone?"0 10px 20px 10px":"0 40px 50px 40px"}}}})),F=n(1),U=n.n(F),G=n(4),H=n(18),W=n(50),V=n(83),_={version:"0.1.0",name:"draffle",instructions:[{name:"createRaffle",accounts:[{name:"raffle",isMut:!0,isSigner:!1},{name:"entrants",isMut:!0,isSigner:!1},{name:"creator",isMut:!0,isSigner:!0},{name:"proceeds",isMut:!0,isSigner:!1},{name:"proceedsMint",isMut:!1,isSigner:!1},{name:"feeAcc",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"endTimestamp",type:"i64"},{name:"ticketPrice",type:"u64"},{name:"maxEntrants",type:"u32"}]},{name:"addPrize",accounts:[{name:"raffle",isMut:!0,isSigner:!1},{name:"creator",isMut:!0,isSigner:!0},{name:"from",isMut:!0,isSigner:!1},{name:"prize",isMut:!0,isSigner:!1},{name:"prizeMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"prizeIndex",type:"u32"},{name:"amount",type:"u64"}]},{name:"buyTickets",accounts:[{name:"raffle",isMut:!1,isSigner:!1},{name:"entrants",isMut:!0,isSigner:!1},{name:"proceeds",isMut:!0,isSigner:!1},{name:"buyerTokenAccount",isMut:!0,isSigner:!1},{name:"buyerTransferAuthority",isMut:!0,isSigner:!0},{name:"feeAcc",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u32"}]},{name:"revealWinners",accounts:[{name:"raffle",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1}],args:[]},{name:"claimPrize",accounts:[{name:"raffle",isMut:!0,isSigner:!1},{name:"entrants",isMut:!1,isSigner:!1},{name:"prize",isMut:!0,isSigner:!1},{name:"winnerTokenAccount",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"feeAcc",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"prizeIndex",type:"u32"},{name:"ticketIndex",type:"u32"}]},{name:"collectProceeds",accounts:[{name:"raffle",isMut:!1,isSigner:!1},{name:"proceeds",isMut:!0,isSigner:!1},{name:"creator",isMut:!1,isSigner:!0},{name:"creatorProceeds",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"closeEntrants",accounts:[{name:"raffle",isMut:!1,isSigner:!1},{name:"entrants",isMut:!0,isSigner:!1},{name:"creator",isMut:!1,isSigner:!0}],args:[]}],accounts:[{name:"raffle",type:{kind:"struct",fields:[{name:"creator",type:"publicKey"},{name:"totalPrizes",type:"u32"},{name:"claimedPrizes",type:"u32"},{name:"randomness",type:{option:{array:["u8",32]}}},{name:"endTimestamp",type:"i64"},{name:"ticketPrice",type:"u64"},{name:"entrants",type:"publicKey"}]}},{name:"entrants",type:{kind:"struct",fields:[{name:"total",type:"u32"},{name:"max",type:"u32"},{name:"entrants",type:{array:["publicKey",1e3]}}]}}],errors:[{code:6e3,name:"MaxEntrantsTooLarge",msg:"Max entrants is too large"},{code:6001,name:"RaffleEnded",msg:"Raffle has ended"},{code:6002,name:"InvalidPrizeIndex",msg:"Invalid prize index"},{code:6003,name:"NoPrize",msg:"No prize"},{code:6004,name:"InvalidCalculation",msg:"Invalid calculation"},{code:6005,name:"NotEnoughTicketsLeft",msg:"Not enough tickets left"},{code:6006,name:"RaffleStillRunning",msg:"Raffle is still running"},{code:6007,name:"WinnersAlreadyDrawn",msg:"Winner already drawn"},{code:6008,name:"WinnerNotDrawn",msg:"Winner not drawn"},{code:6009,name:"InvalidRevealedData",msg:"Invalid revealed data"},{code:6010,name:"TokenAccountNotOwnedByWinner",msg:"Ticket account not owned by winner"},{code:6011,name:"TicketHasNotWon",msg:"Ticket has not won"},{code:6012,name:"UnclaimedPrizes",msg:"Unclaimed prizes"},{code:6013,name:"InvalidRecentBlockhashes",msg:"Invalid recent blockhashes"}]},Y={version:"0.0.0",name:"dispenser",instructions:[{name:"createRegistry",accounts:[{name:"registry",isMut:!0,isSigner:!0},{name:"vaultTokenIn",isMut:!0,isSigner:!1},{name:"vaultTokenOut",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"mintTokenIn",isMut:!1,isSigner:!1},{name:"mintTokenOut",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"rateTokenIn",type:"u64"},{name:"rateTokenOut",type:"u64"}]},{name:"updateRegistry",accounts:[{name:"registry",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"rateTokenIn",type:"u64"},{name:"rateTokenOut",type:"u64"}]},{name:"swap",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"swapper",isMut:!1,isSigner:!0},{name:"vaultTokenIn",isMut:!0,isSigner:!1},{name:"vaultTokenOut",isMut:!0,isSigner:!1},{name:"buyerTokenInAccount",isMut:!0,isSigner:!1},{name:"buyerTokenOutAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amountRequested",type:"u64"}]},{name:"collectProceeds",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"vaultTokenIn",isMut:!0,isSigner:!1},{name:"adminProceedsAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"collectReserve",accounts:[{name:"registry",isMut:!1,isSigner:!1},{name:"vaultTokenOut",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"adminReserveAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"registry",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"vaultTokenIn",type:"publicKey"},{name:"vaultTokenOut",type:"publicKey"},{name:"rateTokenIn",type:"u64"},{name:"rateTokenOut",type:"u64"},{name:"mintTokenIn",type:"publicKey"},{name:"mintTokenOut",type:"publicKey"}]}}],errors:[{code:300,name:"InsufficientUserFunds",msg:"Insufficient user funds"},{code:301,name:"InsufficientVaultFunds",msg:"Insufficient vault funds"},{code:302,name:"InvalidCalculation",msg:"Invalid calculation"}]},X=n(84),J=Object(a.createContext)({}),Q=function(e){var t=e.children,n=Object(h.d)().connection,i=Object(h.c)(),r=Object(a.useMemo)((function(){return Object(V.a)(n,i)}),[n,i]),c=Object(a.useMemo)((function(){return{draffleClient:new W.d(_,X.d,r)}}),[r]).draffleClient,s=Object(a.useMemo)((function(){return{dispenserClient:new W.d(Y,X.a,r)}}),[r]).dispenserClient;return Object(A.jsx)(J.Provider,{value:{draffleClient:c,dispenserClient:s},children:t})},Z=function(){var e=Object(a.useContext)(J);if(void 0===e)throw new Error("useProgramApis must be used within a ProgramApisProvider");return e},q=n(171),$=n(188),ee=n(121),te=new Map([["DaCbuiX3JFurJ5ZvvT4v4XhMapNJH2bgAc2bdXrBKH8G",{name:"TheSuperSOL #14"}],["BqtSZWca7bCz1hPSnf2AV6gepaGYbpUGW1tAMCfweEeF",{name:"TheSuperSOL #1"}],["SCVbXpQZGPevST9QYi9UoeNhuDNBNp2D3VXbtMMF7H3",{name:"TheSuperSOL #17"}],["8pw3gjNJNc6fJAGwUeLY8ktmEp8A2cJy4hHVYUnSPEgD",{name:"The 97 Universe #2"}],["BUZwRhhREXFsA3fysmPhTimPBtViQ5mF9ZUHsUndmtH3",{name:"The 97 Universe #91"}],["dZ1V9awzQNVRAxDURkivGX98D49nnoV3BcC16aiRCHV",{name:"TheSuperSOL Token"}],["DuXQXfkASwRTXRRsspRnQSyBBj1zdRiErUwh7aM4rJKY",{name:"TheSuperSOL Token #2"}],["Fbi7Xnve6wWkey244pVTkUZess6Wq3YoJFXHMPb89tCM",{name:"$1000 TSOS"}],["D75CkLPGdmyCmqi7isBPpQ4E2HExEfZGsjHar8MdjMSX",{name:"TheSuperSOL TICKET"}],["G8MYUG2VDnuJKHu1icVjHWcoNDMLpACdjCu4uveyAFw7",{name:" Reveal TheSuperSOL 3 NFT "}]]),ne=new Map([["BUZwRhhREXFsA3fysmPhTimPBtViQ5mF9ZUHsUndmtH3",{name:"The 97 Universe #91",overviewImageUri:"https://tn72w7g3egypmkcfhdf3qbbuvo4yhhnznx5wc3vlhn4remod57va.arweave.net/m3-rfNshsPYoRTjLuAQ0q7mDnblt-2Fuqzt5EjHD7-o?ext=png"}],["2QjkshNu3mrcCnriekTpppa3PFwnAR9Yf7v5vc54m2Yh",{name:"First SOL raffle",overviewImageUri:"/resources/solana-logo.gif"}],["8aEm1MoDqkYT5vCB21jC6aMMcMbdQJgmHpyBbtHDfUjU",{name:"Anti Artist Club",overviewImageUri:"/resources/aartist-raffle-overview.gif"}],["2ziwAj4awgvNyn8ywwjkBRkBsmv259u9vVyEdrGYTb54",{name:"More SOL",overviewImageUri:"/resources/solana-logo.gif"}],["EgHys3WPcM5WRpKqVHs1REfK6Npzq9sJ7dZPFPzQy2xG",{name:"Triple SOL",overviewImageUri:"/resources/solana-logo-x3.gif"}],["CjzFZfrMW4D1jZVm5upCobRi96UYnQTk5cescSt12rhV",{name:"SAMO raffle",overviewImageUri:"/resources/samo-x3.gif"}],["EZtBKgWq66KT4jRKtd4VT3LWh3mVC4pwcCsqLzKas63G",{name:"BitBoat raffle",overviewImageUri:"/resources/bitboat-raffle.gif"}]]),ae=ee.b?te:ne,ie=function(){var e=Object(G.a)(U.a.mark((function e(t,n,a,i,r){var c,s,o,l,u;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.c)(t.publicKey,a,i);case 2:if(c=e.sent,s=new Map,r){e.next=18;break}return e.prev=5,e.next=8,i.getAccountInfo(t.account.entrants);case 8:if(o=e.sent){e.next=11;break}throw new Error("Cannot find entrants account info");case 11:r=Object(q.a)(a,o.data),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.log("Raffle ".concat(t.publicKey," entrants account is closed")),r={max:0,total:0,entrants:[]};case 18:return s=Object(q.e)(r),e.next=21,Object(q.b)(t.publicKey,a,t.account.totalPrizes);case 21:return l=e.sent,u=new Date(1e3*t.account.endTimestamp.toNumber()),e.abrupt("return",{publicKey:t.publicKey,metadata:n,endTimestamp:u,entrantsCap:r.max,entrants:s,entrantsRaw:r.entrants,totalTickets:r.total,entrantsAccountAddress:t.account.entrants,randomness:t.account.randomness,prizes:l,proceeds:{address:c.address,ticketPrice:t.account.ticketPrice,mint:c.mintInfo},isEnded:u<new Date});case 24:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n,a,i,r){return e.apply(this,arguments)}}(),re=Object(a.createContext)({}),ce=function(e){var t=e.children,n=void 0===t?null:t,i=Object(h.d)().connection,r=Z().draffleClient,c=Object(a.useState)(!0),s=Object(m.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)(new Map),d=Object(m.a)(u,2),p=d[0],j=d[1],b=Object(a.useCallback)(Object(G.a)(U.a.mark((function e(){var t,n,a,c,s,o=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],l(!0),e.prev=2,e.next=5,Object(q.d)(r);case 5:return n=e.sent,a=n.raffleDataRawProgramAccounts,c=n.entrantsDataProgramAccounts,a=a.filter((function(e){var n=e.publicKey;return t||ae.has(n.toBase58())})),e.next=11,Promise.all(a.map(function(){var e=Object(G.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,ae.get(t.publicKey.toString())||{name:"Unnamed Raffle",alternatePurchaseMints:[]},r,i,null===(n=c.find((function(e){return e.publicKey.equals(t.account.entrants)})))||void 0===n?void 0:n.account));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:s=e.sent.reduce((function(e,t){return e.set(t.publicKey.toString(),t),e}),new Map),j(s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:l(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),[i,r]),f=Object(a.useCallback)(function(){var e=Object(G.a)(U.a.mark((function e(t){var n,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.has(t.toString())&&ae.has(t)){e.next=2;break}return e.abrupt("return");case 2:return l(!0),e.next=5,r.account.raffle.fetch(new H.PublicKey(t));case 5:return n=e.sent,e.next=8,ie({publicKey:new H.PublicKey(t),account:n},ae.get(t),r,i);case 8:a=e.sent,Object(P.a)(p.get(t.toString()),a)||j((function(e){var n=Object($.cloneDeep)(e);return n=n.set(t,a)})),l(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,r,p,j]);return Object(a.useEffect)((function(){b()}),[b]),Object(A.jsx)(re.Provider,{value:{raffles:p,fetchAllRaffles:b,updateRaffleById:f,fetching:o},children:n})},se=function(){var e=Object(a.useContext)(re);if(void 0===e)throw new Error("useRafflesStore must be used within an RafflesStoreProvider");return e},oe=n(70),le=n(760),ue=n(193),de=n(308),pe=n(63),me=Object(I.a)((function(e){return{filterBar:function(e){return{width:"100%",display:"flex",flexDirection:e.device===K.a.Phone?"column":"row",alignItems:"center",marginBottom:"30px",justifyContent:"space-between"}},leftSection:{width:"25%"},middleSection:{width:"50%",display:"flex",justifyContent:"center"},rightSection:{width:"25%",display:"flex",justifyContent:"flex-end"},leftPhoneSection:{width:"100%",display:"flex",justifyContent:"center"},rightPhoneSection:{width:"100%",display:"flex",justifyContent:"center"},ownRafflesSwitchContainer:{display:"flex",justifyContent:"center",width:200,height:30,border:"2px solid white",borderRadius:"2px",boxShadow:"0 0 5px 0 #ede65f"},showEndedRaffles:{display:"flex",alignItems:"center"},showEndedRafflesCheckbox:{color:e.palette.primary.main,"&.Mui-checked":{color:e.palette.primary.main},"&:hover":{backgroundColor:"transparent"}},hideEndedText:{color:"white",backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}}}})),je=function(e){var t=e.hideEndedRaffles,n=e.setHideEndedRaffles,a=e.setShowOwnRafflesOnly,i=Object(D.a)().device,r=me({device:i}),c=Object(pe.a)(),s=Object(h.e)().connected,o=[{label:"ALL",value:!1},{label:"MINE",value:!0}],l=function(e){a(e)};return i===K.a.Phone?Object(A.jsxs)("div",{className:r.filterBar,children:[Object(A.jsx)("div",{className:r.leftPhoneSection,children:s&&Object(A.jsx)("div",{className:r.ownRafflesSwitchContainer,children:Object(A.jsx)(de.a,{onChange:l,options:o,optionBorderRadius:0,wrapperBorderRadius:0,fontSize:12,initialSelectedIndex:0,selectionIndicatorMargin:0,selectedBackgroundColor:c.palette.primary.main,backgroundColor:"transparent",fontColor:"white"})})}),Object(A.jsx)("div",{className:r.rightPhoneSection,children:Object(A.jsxs)("div",{className:r.showEndedRaffles,children:[Object(A.jsx)(le.a,{className:r.showEndedRafflesCheckbox,value:t,checked:t,onClick:function(){return n((function(e){return!e}))}}),Object(A.jsx)(ue.a,{variant:"text",disableRipple:!0,className:r.hideEndedText,onClick:function(){return n((function(e){return!e}))},children:"Hide ended raffles"})]})})]}):Object(A.jsxs)("div",{className:r.filterBar,children:[Object(A.jsx)("div",{className:r.leftSection}),Object(A.jsx)("div",{className:r.middleSection,children:s&&Object(A.jsx)("div",{className:r.ownRafflesSwitchContainer,children:Object(A.jsx)(de.a,{onChange:l,options:o,optionBorderRadius:0,wrapperBorderRadius:0,fontSize:12,initialSelectedIndex:0,selectionIndicatorMargin:0,selectedBackgroundColor:c.palette.primary.main,backgroundColor:"transparent",fontColor:"white"})})}),Object(A.jsx)("div",{className:r.rightSection,children:Object(A.jsxs)("div",{className:r.showEndedRaffles,children:[Object(A.jsx)(le.a,{className:r.showEndedRafflesCheckbox,value:t,checked:t,onClick:function(){return n((function(e){return!e}))}}),Object(A.jsx)(ue.a,{variant:"text",disableRipple:!0,className:r.hideEndedText,onClick:function(){return n((function(e){return!e}))},children:"Hide ended raffles"})]})})]})},be=function(){var e=Object(D.a)().device,t=L({device:e}),n=Object(h.e)().publicKey,i=se(),r=i.raffles,c=i.fetchAllRaffles,s=i.fetching,o=Object(a.useState)(!1),l=Object(m.a)(o,2),u=l[0],d=l[1],x=Object(a.useState)(!1),O=Object(m.a)(x,2),g=O[0],v=O[1];Object(a.useEffect)(c,[c]);var y=Object(a.useMemo)((function(){return{own:function(e){return e.entrants.has((null===n||void 0===n?void 0:n.toString())||"")},ongoing:function(e){return new Date<e.endTimestamp}}}),[n]),w=Object(a.useMemo)((function(){var e=Object(p.a)(r.values()).sort((function(e,t){return t.endTimestamp.getTime()-e.endTimestamp.getTime()}));return u&&(e=e.filter(y.own)),g&&(e=e.filter(y.ongoing)),e}),[r,y,u,g]);return 0===r.size&&s?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{variant:"h1",className:t.titleBar,children:"TheSuperSOL Raffles"}),Object(A.jsx)("div",{className:t.mainContent,children:Object(A.jsx)(f.a,{color:"secondary"})})]}):0===r.size?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{variant:"h1",className:t.titleBar,children:"TheSuperSOL Raffles"}),Object(A.jsx)(j.a,{variant:"h4",className:t.mainContent,children:"Tss Raffle will be coming soon!"})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{variant:"h1",className:t.titleBar,children:"TheSuperSOL Raffles"}),Object(A.jsx)(je,{hideEndedRaffles:g,setHideEndedRaffles:v,setShowOwnRafflesOnly:d}),w.length>0?Object(A.jsx)(b.a,{container:!0,justifyContent:"center",direction:"row",className:t.rafflesGrid,children:w.filter((function(e){return e.prizes.length>0})).map((function(e){return Object(A.jsx)(E,{className:t.raffleCardContainer,raffle:e},e.publicKey.toString())}))}):Object(A.jsx)(j.a,{variant:"h4",className:t.mainContent,children:"No Tss Raffle to display."})]})},fe=function(){return Object(A.jsx)(oe.a,{children:Object(A.jsx)(be,{})})},he=n(119),xe=n(745),Oe=n(746),ge=n(28),ve=new H.PublicKey("CumSkyxk3mrC6voinTHf3RVj46Az5C65kHpCRwUxmHJ5"),ye=function(){var e=Object(G.a)(U.a.mark((function e(t,n,a,i){var r,c,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a>=n.prizes.length)){e.next=2;break}throw Error("Prize index does not match prize list (".concat(n.prizes.length,")"));case 2:return r=n.prizes[a],e.next=5,ge.Token.getAssociatedTokenAddress(ge.ASSOCIATED_TOKEN_PROGRAM_ID,ge.TOKEN_PROGRAM_ID,r.mint.publicKey,t.provider.wallet.publicKey);case 5:return c=e.sent,e.next=8,t.provider.connection.getAccountInfo(c);case 8:return null===e.sent&&(s=[Object(z.a)(r.mint.publicKey,c,t.provider.wallet.publicKey)]),e.next=12,t.rpc.claimPrize(a,i,{accounts:{raffle:n.publicKey,entrants:n.entrantsAccountAddress,prize:r.address,winnerTokenAccount:c,tokenProgram:ge.TOKEN_PROGRAM_ID,systemProgram:H.SystemProgram.programId,feeAcc:ve,payer:t.provider.wallet.publicKey},instructions:s});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),we=n(422),ke=n(111),Se=n(304),Ce=n(51),Ne=Object(I.a)((function(e){return{label:{textAlign:"left"},value:{display:"flex",flexDirection:"row",alignItems:"center",verticalAlign:"center"},actionSection:{padding:"5px 5px",minHeight:"180px",width:"100%",backgroundColor:Object(Ce.a)(e.palette.common.white,.15),borderRadius:"4px",boxShadow:"0 2px 4px 0 #000",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},mainButton:{width:"100%",height:"100%",backgroundColor:e.palette.primary.main,borderColor:e.palette.primary.main,color:e.palette.common.white,"&:hover":{backgroundColor:Object(Ce.b)(e.palette.primary.main,.2),borderColor:Object(Ce.b)(e.palette.primary.main,.2)},"&:disabled":{backgroundColor:"#000000",borderColor:"#393939",color:"#898989"}}}})),Te=Object(I.a)((function(e){return{textHighlight:{marginBottom:"10px"},scrollLink:{textTransform:"none",marginRight:"-5px",color:e.palette.primary.main,"&:hover":{textShadow:"0px 0px 5px #ede65f",backgroundColor:"transparent",textDecoration:"none"}},scrollIcon:{transform:"rotate(90deg)",fontSize:"50px",opacity:"0.6",marginTop:"20px",marginBottom:"60px"},connectToBuyButton:{marginTop:"20px",width:"80%",height:"40px"}}})),Pe=function(){var e,t=Date.now()+5e3,n={startVelocity:30,spread:360,ticks:60,zIndex:0};function a(e,t){return Math.random()*(t-e)+e}return e=setInterval((function(){var i=t-Date.now();if(i<=0)return clearInterval(e);var r=i/5e3*50;Object(Se.a)(Object.assign({},n,{particleCount:r,origin:{x:a(.1,.3),y:Math.random()-.2}})),Object(Se.a)(Object.assign({},n,{particleCount:r,origin:{x:a(.7,.9),y:Math.random()-.2}}))}),250)},Ie=function(e){var t=e.raffle,n=e.userPubkey,i=e.entrant,r=e.entrantWinningTickets,c=e.scrollRef,s=Object(x.a)(Object(x.a)({},Ne()),Te()),o=Object(a.useMemo)((function(){return 0===t.prizes.length}),[t]),l=Object(a.useMemo)((function(){return!!t.randomness}),[t]),u=Object(a.useMemo)((function(){return!!n}),[n]),d=Object(a.useMemo)((function(){return((null===i||void 0===i?void 0:i.tickets.length)||0)>0}),[i]);return Object(a.useEffect)((function(){if(0!==r.length){var e=Pe();return function(){return clearInterval(e)}}}),[r.length]),o?Object(A.jsx)(A.Fragment,{children:"No prizes to reveal!"}):l?u?d?0===r.length?Object(A.jsxs)("div",{children:[Object(A.jsx)(j.a,{variant:"h3",className:s.textHighlight,children:"Oh no! No prize."}),Object(A.jsx)(j.a,{variant:"body1",children:"Better luck next time!"})]}):Object(A.jsxs)("div",{children:[Object(A.jsx)(j.a,{variant:"h3",className:s.textHighlight,children:"Hurray, you won!"}),Object(A.jsx)("div",{children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(ue.a,{className:s.scrollLink,variant:"text",onClick:function(){var e;return null===(e=c.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"start"})},children:"Scroll"}),"to see your prize(s)!"]})})]}):Object(A.jsx)(j.a,{variant:"body1",children:"Uh oh! It looks like you did not participate in this raffle!"}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{variant:"h3",className:s.textHighlight,children:"Winners have been announced."}),Object(A.jsx)(j.a,{variant:"body1",children:"Connect your wallet to check if you have won any prizes!"}),Object(A.jsx)(ke.b,{className:"".concat(s.mainButton," ").concat(s.connectToBuyButton),children:"Connect to reveal"})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{variant:"body1",className:s.textHighlight,children:"Winners will be announced soon."}),Object(A.jsx)(j.a,{variant:"body1",children:"Hang tight!"})]})},Me=n(731),Ae=n(732),Re=n(733),ze=Object(I.a)((function(e){return{root:function(e){var t=e.device;return{width:"100%",minWidth:t===K.a.Phone?"256px":"313px",maxWidth:(K.a.Phone,"380px"),display:"flex",flexDirection:"column",fontSize:"30px"}},ticketsSection:{display:"flex",flexDirection:"row"},totalTickets:{width:"58%"},ticketPrice:{width:"42%"},myTickets:{width:"55%"},showMyTickets:{width:"45%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"baseline",paddingBottom:"5px"},ticketButton:{fontSize:"14px",color:e.palette.primary.main,textShadow:"0px 0px 5px #ede65f",padding:"0 0","&:hover":{backgroundColor:"transparent"}},separator:{margin:"0 5px"}}})),Be=function(e){var t=e.setOpen,n=e.userTickets,a=Object(O.a)(e,["setOpen","userTickets"]);return Object(A.jsxs)(Me.a,Object(x.a)(Object(x.a)({},a),{},{onClose:function(){return t(!1)},fullWidth:!0,children:[Object(A.jsx)(Ae.a,{children:"My tickets"}),Object(A.jsx)(Re.a,{children:null===n||void 0===n?void 0:n.map((function(e){return Object(A.jsxs)("div",{children:["#",e+1]},e)}))})]}))},De=function(e){var t,n=e.userConnected,i=e.raffle,r=e.userTickets,c=Object(D.a)().device,s=Object(x.a)(Object(x.a)({},Ne()),ze({device:c})),o=Object(a.useState)(!1),l=Object(m.a)(o,2),u=l[0],d=l[1];return Object(A.jsxs)("div",{className:s.root,children:[Object(A.jsxs)("div",{className:s.ticketsSection,children:[Object(A.jsxs)("div",{className:s.totalTickets,children:[Object(A.jsx)(j.a,{variant:"overline",className:s.label,children:"Tickets sold"}),Object(A.jsxs)("div",{className:s.value,children:[Object(A.jsx)(T.a,{start:0,end:i.totalTickets,delay:0,duration:.8,preserveValue:!0,useEasing:!0,children:function(e){var t=e.countUpRef;return Object(A.jsx)(j.a,{variant:"h4",ref:t})}}),Object(A.jsx)(j.a,{variant:"h4",className:s.separator,children:"/"}),Object(A.jsx)(j.a,{variant:"h4",children:"".concat(i.entrantsCap)})]})]}),Object(A.jsxs)("div",{className:s.ticketPrice,children:[Object(A.jsx)(j.a,{variant:"overline",className:s.label,children:"Ticket Price"}),Object(A.jsx)(j.a,{variant:"h4",children:"".concat(Object(z.d)(i.proceeds.ticketPrice,i.proceeds.mint)," ").concat(i.proceeds.mint.symbol)})]})]}),n&&Object(A.jsxs)("div",{className:s.ticketsSection,children:[Object(A.jsxs)("div",{className:s.myTickets,children:[Object(A.jsx)(j.a,{variant:"overline",className:s.label,children:"My tickets"}),Object(A.jsx)("div",{className:s.value,children:Object(A.jsx)(T.a,{start:0,end:null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0,delay:0,duration:.8,preserveValue:!0,useEasing:!0,children:function(e){var t=e.countUpRef;return Object(A.jsx)(j.a,{variant:"h4",ref:t})}})})]}),(null===r||void 0===r?void 0:r.length)&&Object(A.jsxs)("div",{className:s.showMyTickets,children:[Object(A.jsx)(ue.a,{variant:"text",size:"small",disableRipple:!0,onClick:function(){d(!0)},className:s.ticketButton,children:"See my tickets"}),Object(A.jsx)(Be,{userTickets:r,open:u,setOpen:d})]})]})]})},Ee=Object(I.a)((function(e){return{root:{height:"100%"},claimButtonContent:{display:"flex",flexDirection:"row",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},claimButtonContentLeft:{width:"20%",display:"flex",justifyContent:"center"},claimButtonContentMiddle:{width:"80%"},claimButtonContentRight:{width:"0%"},claimSpinner:{height:"50px",color:e.palette.secondary.main}}})),Ke=function(e){var t=e.prize,n=e.prizeIndex,i=e.ticketIndex,r=e.claimPrize,c=Object(x.a)(Object(x.a)({},Ne()),Ee()),s=Object(a.useState)(new Map),o=Object(m.a)(s,2),l=o[0],u=o[1];return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(A.jsx)("div",{className:c.root,children:Object(A.jsx)(ue.a,{variant:"outlined",color:"secondary",onClick:Object(G.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return Object($.cloneDeep)(e.set(n,!0))})),e.next=3,r(n,i);case 3:u((function(e){return Object($.cloneDeep)(e.set(n,!1))}));case 4:case"end":return e.stop()}}),e)}))),disabled:t.amount.isZero()||!!l.get(n),className:c.mainButton,children:Object(A.jsx)("div",{className:c.claimButtonContent,children:l.get(n)?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:c.claimButtonContentLeft,children:Object(A.jsx)(f.a,{size:20,className:c.claimSpinner})}),Object(A.jsx)("div",{className:c.claimButtonContentMiddle,children:"Processing..."}),Object(A.jsx)("div",{className:c.claimButtonContentRight})]}):Object(A.jsx)(A.Fragment,{children:"Claim"})})})})},Le=function(e){var t=e.endRange,n=e.drawLength,i=void 0===n?50:n,r=e.spinIntervalMs,c=void 0===r?100:r,s=e.redrawIntervalMs,o=void 0===s?5e3:s,l=Object(a.useState)(0),u=Object(m.a)(l,2),d=u[0],p=u[1],j=Object(a.useState)([]),b=Object(m.a)(j,2),f=b[0],h=b[1];if(Object(a.useEffect)((function(){var e=setInterval((function(){return h(Array.from({length:i},(function(){return Math.round(Math.random()*t)})))}),o);return function(){return clearInterval(e)}}),[t,o,i,h]),Object(a.useEffect)((function(){var e=setInterval((function(){return p((function(e){return++e%i}))}),c);return function(){return clearInterval(e)}}),[i,c,p]),0!==t)return f[d]},Fe=Object(I.a)((function(e){return{root:function(e){var t=e.device;return{height:t===K.a.Phone?"25vw":"300px",width:t===K.a.Phone?"100%":"200px",position:"relative",cursor:"pointer","&:hover":{boxShadow:"0 3px 10px 0 #111",transform:"scale3d(1.02, 1.02, 1)"},"&:active":{transform:"scale3d(1, 1, 1)"},display:"flex",flexDirection:t===K.a.Phone?"row":"column",justifyContent:t===K.a.Phone?"flex-start":"center"}},media:function(e){var t=e.device;return Object(x.a)({},t===K.a.Phone?{width:"25vw",height:"25vw"}:{height:"200px"})},prizeInfo:function(e){var t=e.device;return{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:t===K.a.Phone?"baseline":"center",fontSize:(K.a.Phone,"15px"),padding:t===K.a.Phone?" 8px":"8px"}},prizeInfoInner:{},prizeNameRow:function(t){var n=t.device;return{display:"flex",flexDirection:"row",color:e.palette.primary.main,fontWeight:"bold",textTransform:"uppercase",alignItems:"center",justifyContent:n===K.a.Phone?"left":"center",textAlign:n===K.a.Phone?"left":"center"}},prizeName:{color:e.palette.primary.main,marginLeft:"5px"},winnerSection:{width:"100%",marginTop:"10px",display:"flex",flexDirection:"row"},winnerRow:{display:"flex",flexDirection:"row"},winnertTicket:{marginLeft:"10px"},winnerPubkey:{color:e.palette.secondary.main,marginLeft:"10px"},cardBadge:function(t){var n=t.device;return Object(x.a)(Object(x.a)({fontSize:"12px",fontWeight:"bold",width:"70px",textAlign:"center",padding:"2px",position:"absolute"},n===K.a.Phone?{top:"3px",left:"3px"}:{top:"5px",right:"5px"}),{},{color:"white",backgroundColor:e.palette.primary.main,borderRadius:"2px",boxShadow:"0 2px 6px 0 #000"})}}})),Ue=function(e){var t=e.message,n=e.maxCharLength,a=e.addTooltip,i=void 0!==a&&a;return t.length<=n?Object(A.jsx)(A.Fragment,{children:t}):i?Object(A.jsx)(w.a,{title:t,placement:"top",children:Object(A.jsxs)(A.Fragment,{children:[t.slice(0,n-4)," ..."]})}):Object(A.jsxs)(A.Fragment,{children:[t.slice(0,n-4)," ..."]})},Ge=n(697),He=n(693),We=n(437),Ve=Object(I.a)((function(e){return{modal:function(e){e.device;return{display:"flex",alignItems:"center",justifyContent:"space-around",width:"100%"}},content:function(t){t.device;return{outline:"none",width:"50%",minWidth:"250px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,2,3)}},header:{width:"100%",display:"flex",justifyContent:"flex-end"},body:function(e){var t=e.device;return{width:"100%",display:"flex",flexDirection:t===K.a.Phone?"column":"row",marginTop:t===K.a.Phone?"5px":"0"}},contentLeft:function(e){return{width:e.device===K.a.Phone?"100%":"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},media:{width:"90%"},contentRight:function(t){var n=t.device;return{width:n===K.a.Phone?"100%":"50%",height:"100%",display:"flex",flexDirection:"column",alignItems:n===K.a.Phone?"center":"baseline",textAlign:n===K.a.Phone?"center":"left",justifyContent:"space-evenly",padding:n===K.a.Phone?e.spacing(1):e.spacing(0,3,3,3)}},ticketButton:{marginTop:"10px",fontSize:"14px",color:e.palette.secondary.main,textShadow:"0px 0px 5px #ede65f",padding:"0 0","&:hover":{backgroundColor:"transparent"}}}})),_e=n(738),Ye=n(744),Xe=function(e){var t=e.height;return Object(A.jsx)("div",{style:{height:t,width:"100%"}})},Je=function(e){var t=e.isOpen,n=e.setIsOpen,a=e.prize,i=e.prizeRank,r=Object(D.a)().device,c=Ve({device:r}),s=a.meta.imageUri;return Object(A.jsx)(Ge.a,{open:t,onClose:function(){n(!1)},className:c.modal,BackdropComponent:He.a,BackdropProps:{timeout:500},children:Object(A.jsx)(We.a,{in:t,children:Object(A.jsxs)("div",{className:c.content,children:[Object(A.jsx)("div",{className:c.header,children:Object(A.jsx)(k.a,{size:"small",onClick:function(){return n(!1)},children:Object(A.jsx)(_e.a,{})})}),Object(A.jsxs)("div",{className:c.body,children:[Object(A.jsx)("div",{className:c.contentLeft,children:Object(A.jsx)("img",{src:s,className:c.media,alt:a.mint.name})}),Object(A.jsxs)("div",{className:c.contentRight,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(j.a,{variant:"overline",children:"Codename"}),Object(A.jsx)(j.a,{variant:"body1",children:a.mint.name})]}),Object(A.jsx)(Xe,{height:r===K.a.Phone?"5px":"10px"}),void 0!==i&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(j.a,{variant:"overline",children:"Prize rank"}),Object(A.jsx)(j.a,{variant:"body1",children:i+1})]}),Object(A.jsx)(Xe,{height:r===K.a.Phone?"5px":"10px"})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(j.a,{variant:"overline",children:"Mint address"}),Object(A.jsx)(j.a,{variant:"body1",children:Object(P.c)(a.mint.publicKey)})]}),Object(A.jsx)(Xe,{height:r===K.a.Phone?"5px":"10px"}),Object(A.jsxs)(ue.a,{variant:"text",size:"small",disableRipple:!0,onClick:function(){var e=window.open("https://solscan.io/token/".concat(a.mint.publicKey.toString()),"_blank");null===e||void 0===e||e.focus()},className:c.ticketButton,children:["See on Solscan"," ",Object(A.jsx)(Ye.a,{style:{height:"17px",marginLeft:"5px"}})]})]})]})]})})})},Qe=function(e){var t=e.endRange,n=Le({endRange:t});return Object(A.jsxs)(A.Fragment,{children:["#",String((n||0)+1).padStart(4,"0")]})},Ze=function(e){var t=e.prize,n=e.raffle,i=e.index,r=e.badgeText,c=e.winner,s=e.className,o=Object(O.a)(e,["prize","raffle","index","badgeText","winner","className"]),l=Object(D.a)().device,u=Object(x.a)(Object(x.a)({},Ne()),Fe({device:l})),d=Object(a.useState)(!1),p=Object(m.a)(d,2),b=p[0],f=p[1],h=Object(a.useState)(!1),w=Object(m.a)(h,2),k=w[0],C=w[1],N=t.meta.imageUri,T=Object(a.useMemo)((function(){return l===K.a.Phone?14:18}),[l]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Je,{isOpen:k,setIsOpen:C,prize:t,prizeRank:i}),Object(A.jsxs)(g.a,Object(x.a)(Object(x.a)({onClick:function(){C(!0)}},o),{},{className:"".concat(u.root," ").concat(s),children:[r&&Object(A.jsx)("div",{className:u.cardBadge,children:r}),!b&&Object(A.jsx)("div",{children:Object(A.jsx)(S.a,{variant:"rect",animation:"wave",classes:{root:u.media}})}),Object(A.jsx)(v.a,{component:"img",className:u.media,src:N,alt:t.mint.name,style:b?{}:{display:"none"},onLoad:function(){return f(!0)}}),Object(A.jsx)(y.a,{className:u.prizeInfo,children:Object(A.jsxs)("div",{className:u.prizeInfoInner,children:[Object(A.jsxs)("div",{className:u.prizeNameRow,children:[Object(A.jsx)(j.a,{variant:"body1",children:void 0!==i&&"#".concat(i+1," ")}),Object(A.jsx)(j.a,{variant:"body1",className:u.prizeName,children:Object(A.jsx)(Ue,{message:t.mint.name,maxCharLength:T,addTooltip:!0})})]}),Object(A.jsx)("div",{className:u.winnerSection,children:void 0!==c?Object(A.jsxs)("div",{children:[Object(A.jsx)(j.a,{variant:"body1",children:"Winner: #".concat(String(c+1).padStart(4,"0"))}),Object(A.jsxs)("div",{className:u.winnerRow,children:[Object(A.jsx)(j.a,{variant:"body1",children:"Pubkey: "}),Object(A.jsx)(j.a,{variant:"body1",className:u.winnerPubkey,children:Object(P.c)(n.entrantsRaw[c])})]})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{variant:"body1",children:"Drawing..."}),Object(A.jsx)(j.a,{variant:"body1",className:u.winnertTicket,children:Object(A.jsx)(Qe,{endRange:n.totalTickets})})]})})]})})]}))]})},qe=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},prizesGrid:function(e){return{scrollMargin:"130px",display:"flex",justifyContent:"space-around",flexGrow:"initial",width:"100%",marginTop:e.device===K.a.Phone?"-20px":"5px"}},prizeItem:function(e){var t=e.device;return{margin:t===K.a.Phone?"0":"10px",justifyContent:"center",alignItems:"center",marginTop:t===K.a.Phone?"30px":"0",marginBottom:t===K.a.Phone?"0":"30px"}},claimButtonContainer:function(e){var t=e.device;return Object(x.a)(Object(x.a)({},t===K.a.Phone?{height:"25px"}:{}),{},{marginTop:t===K.a.Phone?"8px":"10px"})}}})),$e=function(e){var t=e.raffle,n=e.entrantWinningTickets,i=e.winningTickets,r=e.claimPrize,c=e.scrollRef,s=Object(D.a)().device,o=Object(x.a)(Object(x.a)({},Ne()),qe({device:s}));return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(A.jsx)("div",{className:o.root,children:Object(A.jsx)(b.a,{ref:c,container:!0,justifyContent:"space-between",direction:s===K.a.Phone?"column":"row",className:o.prizesGrid,children:t.prizes.map((function(e,a){var c=i[a],s=n.some((function(e){return e.ticketIndex===c}));return Object(A.jsxs)(b.a,{item:!0,className:o.prizeItem,children:[Object(A.jsx)(Ze,Object(x.a)(Object(x.a)({prize:e,raffle:t},e.amount.isZero()?{badgeText:"Claimed"}:{}),{},{index:a,winner:c}),a),s&&Object(A.jsx)("div",{className:o.claimButtonContainer,children:Object(A.jsx)(Ke,{claimPrize:r,prize:e,prizeIndex:a,ticketIndex:c})})]},a)}))})})},et=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},prizesGrid:{display:"flex",flexGrow:"initial",width:"100%"},prizeItem:{margin:"0 5px 30px 5px"},claimButtonContainer:{marginTop:"20px"},claimButtonContent:{display:"flex",flexDirection:"row",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",color:"white"}}})),tt=function(e){var t=e.raffle,n=e.winningTickets,a=void 0===n?[]:n,i=Object(x.a)(Object(x.a)({},Ne()),et());return 0===t.prizes.length?Object(A.jsx)("div",{className:i.root,children:"No prizes"}):1===t.prizes.length?Object(A.jsx)("div",{className:i.root,children:Object(A.jsx)(b.a,{container:!0,justifyContent:"space-evenly",direction:"row",className:i.prizesGrid,children:Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(Ze,{prize:t.prizes[0],raffle:t,winner:a[0],className:i.prizeItem})})})}):2===t.prizes.length?Object(A.jsx)("div",{className:i.root,children:Object(A.jsxs)(b.a,{container:!0,justifyContent:"space-evenly",direction:"row",className:i.prizesGrid,children:[Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(Ze,{prize:t.prizes[0],index:0,raffle:t,winner:a[0],className:i.prizeItem})}),Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(Ze,{prize:t.prizes[1],index:1,raffle:t,winner:a[1],className:i.prizeItem})})]})}):Object(A.jsx)("div",{className:i.root,children:Object(A.jsxs)(b.a,{container:!0,justifyContent:"space-evenly",direction:"row",className:i.prizesGrid,children:[Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(Ze,{prize:t.prizes[0],index:0,raffle:t,winner:a[0],className:i.prizeItem})}),Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(Ze,{prize:t.prizes[1],index:1,raffle:t,winner:a[1],className:i.prizeItem})}),Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(Ze,{prize:t.prizes[2],index:2,raffle:t,winner:a[2],className:i.prizeItem})})]})})},nt=Object(I.a)((function(e){return{root:{width:"100%",height:"inherit",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},topSection:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},raffleTitle:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center",alignItems:"center",justifyItems:"space-between"},raffleSubtitle:{color:e.palette.secondary.main,marginLeft:"10px"},leftTitleSection:{paddingLeft:"20px",width:"10%",display:"flex"},middleTitleSection:{width:"90%",display:"flex",justifyContent:"center",textAlign:"center"},rightTitleSection:{width:"10%"},backButton:{color:e.palette.common.black,backgroundColor:Object(Ce.a)(e.palette.secondary.main,.8),"&:hover":{boxShadow:"0px 0px 5px ".concat(e.palette.secondary.main,", inset 0px 0px 5px ").concat(e.palette.secondary.main),backgroundColor:Object(Ce.a)(e.palette.secondary.main,.8)}},backButtonIcon:{},mainContent:{width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end"},prizesSection:{width:"70%",display:"flex",flexDirection:"column",paddingRight:"20px",minHeight:"450px",justifyContent:"center",alignItems:"center"},prizesHeader:{marginBottom:"10px"},seeAllPrizesButton:{marginLeft:"5px",color:e.palette.secondary.main,textTransform:"initial","&:hover":{textShadow:"0px 0px 5px ".concat(e.palette.secondary.main),backgroundColor:"transparent",textDecoration:"none"}},detailsSection:function(e){var t=e.device;return{paddingTop:"20px",display:"flex",flexDirection:"column",justifyContent:"space-evenly",width:"30%",minWidth:t===K.a.Phone?"256px":"313px",maxWidth:(K.a.Phone,"380px"),maxHeight:"500px"}},actionSectionContainer:{width:"100%"},totalTickets:{marginRight:"80px"},prizeGallerySection:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},scrollIcon:{color:e.palette.common.white,transform:"rotate(90deg)",fontSize:"50px",opacity:"0.6",marginTop:"20px",marginBottom:"60px"},spacer:{width:"100%",height:"15px"}}})),at=function(e){var t=e.raffle,n=e.updateRaffle,i=Object(D.a)().device,r=Object(x.a)(Object(x.a)({},Ne()),nt({device:i})),c=Object(u.f)().push,s=Z().draffleClient,o=Object(a.useRef)(null),m=Object(a.useMemo)((function(){if(s.provider.wallet.publicKey)return null===t||void 0===t?void 0:t.entrants.get(s.provider.wallet.publicKey.toString())}),[t,s.provider.wallet.publicKey]),b=Object(a.useMemo)((function(){if(!t.randomness||!t.entrants||0===t.entrants.size)return[];var e=t.randomness;return t.prizes.map((function(n,a){return Object(we.a)(e,a)%t.totalTickets}))}),[t]),f=Object(a.useCallback)(function(){var e=Object(G.a)(U.a.mark((function e(a,i){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye(s,t,a,i);case 3:return e.next=5,Object(he.sleep)(500);case 5:n(),l.b.success("Prize claimed, check your wallet!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.msg?l.b.error("Transaction failed: ".concat(e.t0.msg)):l.b.error("Unexpected error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[s,t,n]),h=Object(a.useMemo)((function(){return m&&b?b.reduce((function(e,t,n){return(null===m||void 0===m?void 0:m.tickets.includes(t))?[].concat(Object(p.a)(e),[{prizeIndex:n,ticketIndex:t}]):e}),[]):[]}),[m,b]);return t?Object(A.jsxs)("div",{className:r.root,children:[i===K.a.Phone?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(j.a,{variant:"h1",children:["> ".concat(t.metadata.name),Object(A.jsx)("span",{className:r.raffleSubtitle,children:"[ended]"})]}),Object(A.jsx)("div",{className:r.spacer}),Object(A.jsx)(De,{raffle:t,userConnected:!!s.provider.wallet.publicKey,userTickets:null===m||void 0===m?void 0:m.tickets}),Object(A.jsx)("div",{className:r.spacer}),Object(A.jsx)("div",{className:r.actionSectionContainer,children:Object(A.jsx)("div",{className:r.actionSection,children:Object(A.jsx)(Ie,{raffle:t,userPubkey:s.provider.wallet.publicKey,entrant:m,entrantWinningTickets:h,scrollRef:o})})}),Object(A.jsx)("div",{className:r.spacer}),Object(A.jsx)(j.a,{variant:"overline",children:"Results"}),Object(A.jsx)($e,{raffle:t,entrantWinningTickets:h,winningTickets:b,claimPrize:f,scrollRef:o}),Object(A.jsx)("div",{className:r.spacer})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:r.topSection,children:Object(A.jsxs)("div",{className:r.raffleTitle,children:[Object(A.jsx)("div",{className:r.leftTitleSection,children:Object(A.jsx)(k.a,{size:"medium",className:r.backButton,onClick:function(){return c(d.a.RAFFLES)},children:Object(A.jsx)(xe.a,{className:r.backButtonIcon})})}),Object(A.jsxs)("div",{className:r.middleTitleSection,children:[Object(A.jsx)(j.a,{variant:"h1",children:"> ".concat(t.metadata.name)}),Object(A.jsx)(w.a,{title:t.endTimestamp.toString(),placement:"bottom",children:Object(A.jsx)(j.a,{variant:"h1",className:r.raffleSubtitle,children:"[ended]"})})]}),Object(A.jsx)("div",{className:r.rightTitleSection})]})}),Object(A.jsxs)("div",{className:r.mainContent,children:[Object(A.jsxs)("div",{className:r.prizesSection,children:[Object(A.jsxs)(j.a,{variant:"overline",children:["Prizes",t.prizes.length>3&&Object(A.jsxs)(A.Fragment,{children:[" -",Object(A.jsxs)(ue.a,{variant:"text",disableRipple:!0,className:r.seeAllPrizesButton,onClick:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"start"})},children:["See all ",t.prizes.length]})]})]}),Object(A.jsx)(tt,{raffle:t,winningTickets:b})]}),Object(A.jsxs)("div",{className:r.detailsSection,children:[Object(A.jsx)(De,{raffle:t,userConnected:!!s.provider.wallet.publicKey,userTickets:null===m||void 0===m?void 0:m.tickets}),Object(A.jsx)("div",{className:r.actionSectionContainer,children:Object(A.jsx)("div",{className:r.actionSection,children:Object(A.jsx)(Ie,{raffle:t,userPubkey:s.provider.wallet.publicKey,entrant:m,entrantWinningTickets:h,scrollRef:o})})})]})]}),Object(A.jsxs)("div",{className:r.prizeGallerySection,children:[Object(A.jsx)(Oe.a,{className:r.scrollIcon}),Object(A.jsx)($e,{raffle:t,entrantWinningTickets:h,winningTickets:b,claimPrize:f,scrollRef:o})]})]}),Object(A.jsx)("div",{className:r.spacer})]}):null},it=function(e){var t=Object(u.f)().push;return Object(A.jsx)(oe.a,{onBackNavigation:function(){return t(d.a.RAFFLES)},children:Object(A.jsx)(at,Object(x.a)({},e))})},rt=Object(I.a)((function(e){return{root:function(e){var t=e.device;return{height:t===K.a.Phone?"25vw":"260px",width:t===K.a.Phone?"100%":"200px",position:"relative",cursor:"pointer","&:hover":{boxShadow:"0 3px 10px 0 #111",transform:"scale3d(1.02, 1.02, 1)"},"&:active":{transform:"scale3d(1, 1, 1)"},display:"flex",flexDirection:t===K.a.Phone?"row":"column",justifyContent:t===K.a.Phone?"flex-start":"center"}},media:function(e){var t=e.device;return Object(x.a)({},t===K.a.Phone?{width:"25vw",height:"25vw"}:{height:"200px"})},prizeInfo:function(e){var t=e.device;return{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:t===K.a.Phone?"baseline":"center",fontSize:(K.a.Phone,"15px"),padding:t===K.a.Phone?" 8px":"8px"}},prizeNameRow:function(t){var n=t.device;return{width:"100%",display:"flex",flexDirection:"row",color:e.palette.primary.main,fontWeight:"bold",textTransform:"uppercase",alignItems:"center",justifyContent:n===K.a.Phone?"left":"center",textAlign:n===K.a.Phone?"left":"center"}},prizeName:{marginLeft:"5px",color:e.palette.primary.main},cardBadge:{fontSize:"12px",fontWeight:"bold",width:"70px",textAlign:"center",padding:"2px",position:"absolute",top:"5px",right:"5px",color:"white",backgroundColor:e.palette.primary.main,borderRadius:"2px",boxShadow:"0 2px 6px 0 #000"}}})),ct=function(e){var t=e.prize,n=e.index,i=e.className,r=Object(O.a)(e,["prize","index","className"]),c=Object(D.a)().device,s=rt({device:c}),o=Object(a.useState)(!1),l=Object(m.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(!1),b=Object(m.a)(p,2),f=b[0],h=b[1],w=t.meta.imageUri,k=Object(a.useMemo)((function(){return c===K.a.Phone?14:18}),[c]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Je,{isOpen:f,setIsOpen:h,prize:t,prizeRank:n}),Object(A.jsxs)(g.a,Object(x.a)(Object(x.a)({onClick:function(){h(!0)}},r),{},{className:"".concat(s.root," ").concat(i),children:[!u&&Object(A.jsx)("div",{children:Object(A.jsx)(S.a,{variant:"rect",animation:"wave",classes:{root:s.media}})}),Object(A.jsx)(v.a,{component:"img",classes:{root:s.media},src:w,alt:t.mint.name,style:u?{}:{display:"none"},onLoad:function(){return d(!0)}}),Object(A.jsx)(y.a,{className:s.prizeInfo,children:Object(A.jsxs)("div",{className:s.prizeNameRow,children:[Object(A.jsx)(j.a,{variant:"body1",children:void 0!==n&&"#".concat(n+1," ")}),Object(A.jsx)(j.a,{variant:"body1",className:s.prizeName,children:Object(A.jsx)(Ue,{message:t.mint.name,maxCharLength:k,addTooltip:!0})})]})})]}))]})},st=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},prizesGrid:{display:"flex",flexGrow:"initial",width:"100%"},prizeItem:{margin:"0 5px 30px 5px"},claimButtonContainer:{marginTop:"20px"},claimButtonContent:{display:"flex",flexDirection:"row",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",color:"white"}}})),ot=function(e){var t=e.prizes,n=Object(x.a)(Object(x.a)({},Ne()),st());return 0===t.length?Object(A.jsx)("div",{className:n.root,children:"No prizes"}):1===t.length?Object(A.jsx)("div",{className:n.root,children:Object(A.jsx)(b.a,{container:!0,justifyContent:"space-evenly",direction:"row",className:n.prizesGrid,children:Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(ct,{prize:t[0],className:n.prizeItem})})})}):2===t.length?Object(A.jsx)("div",{className:n.root,children:Object(A.jsxs)(b.a,{container:!0,justifyContent:"space-evenly",direction:"row",className:n.prizesGrid,children:[Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(ct,{prize:t[0],index:0,className:n.prizeItem})}),Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(ct,{prize:t[1],className:n.prizeItem,index:1})})]})}):Object(A.jsx)("div",{className:n.root,children:Object(A.jsxs)(b.a,{container:!0,justifyContent:"space-evenly",direction:"row",className:n.prizesGrid,children:[Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(ct,{prize:t[0],index:0,className:n.prizeItem})}),Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(ct,{prize:t[1],className:n.prizeItem,index:1})}),Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(ct,{prize:t[2],className:n.prizeItem,index:2})})]})})},lt=n(698),ut=n(761),dt=n(736),pt=n(747),mt=n(750),jt=n(137),bt=n(76),ft=new H.PublicKey("CumSkyxk3mrC6voinTHf3RVj46Az5C65kHpCRwUxmHJ5"),ht=function(e,t,n){return e.muln(t).mul(n.dispenserPriceIn).div(n.dispenserPriceOut)},xt=function(){var e=Object(G.a)(U.a.mark((function e(t,n,a,i,r,c){var s,o,l,u,d,p;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.Token.getAssociatedTokenAddress(ge.ASSOCIATED_TOKEN_PROGRAM_ID,ge.TOKEN_PROGRAM_ID,r.mint.publicKey,t.provider.wallet.publicKey);case 2:if(o=e.sent,l=o,u=[],r.mint.publicKey.toBase58()===bt.c&&(c||u.push(Object(z.a)(new H.PublicKey(bt.c),o,t.provider.wallet.publicKey)),u.push(H.SystemProgram.transfer({fromPubkey:t.provider.wallet.publicKey,toPubkey:o,lamports:ht(a.proceeds.ticketPrice,i,r).toNumber()})),u.push(ge.Token.createSyncNativeInstruction(ge.TOKEN_PROGRAM_ID,o))),r.mint.publicKey.toString()===a.proceeds.mint.publicKey.toString()){e.next=14;break}return d=ht(a.proceeds.ticketPrice,i,r),console.log("Swapping ".concat(d.toString()," ").concat(r.mint.symbol," for ").concat(a.proceeds.ticketPrice.muln(i).toString()," ").concat(a.proceeds.mint.symbol)),e.next=11,ge.Token.getAssociatedTokenAddress(ge.ASSOCIATED_TOKEN_PROGRAM_ID,ge.TOKEN_PROGRAM_ID,a.proceeds.mint.publicKey,t.provider.wallet.publicKey);case 11:p=e.sent,u.push(n.instruction.swap(a.proceeds.ticketPrice.muln(i),{accounts:{registry:X.b,swapper:n.provider.wallet.publicKey,vaultTokenIn:jt.b,vaultTokenOut:jt.c,buyerTokenInAccount:o,buyerTokenOutAccount:p,tokenProgram:ge.TOKEN_PROGRAM_ID}})),l=p;case 14:return u.push(t.instruction.buyTickets(i,{accounts:{raffle:a.publicKey,entrants:a.entrantsAccountAddress,proceeds:a.proceeds.address,buyerTokenAccount:l,buyerTransferAuthority:t.provider.wallet.publicKey,tokenProgram:ge.TOKEN_PROGRAM_ID,systemProgram:H.SystemProgram.programId,feeAcc:ft}})),e.abrupt("return",t.provider.sendAndConfirm((s=new H.Transaction).add.apply(s,u)));case 16:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,c){return e.apply(this,arguments)}}(),Ot=function(e){var t=e.children,n=Object(O.a)(e,["children"]);return Object(A.jsx)(ue.a,Object(x.a)(Object(x.a)({},n),{},{children:t}))},gt=Object(I.a)((function(e){return{root:{padding:"15px 20px 15px 20px"},titleSection:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",marginBottom:"15px"},amountLabel:{width:"100%",display:"flex"},ticketAmountSection:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",textAlign:"center",marginBottom:"15px"},ticketAmountSectionLeft:{width:"15%",display:"flex",flexDirection:"row",justifyContent:"flex-start"},ticketAmountSectionMiddle:{width:"65%",display:"flex",flexDirection:"row",justifyContent:"center"},ticketAmountSectionRight:{width:"15%",display:"flex",flexDirection:"row",justifyContent:"flex-end"},changeTicketAmountButton:{color:e.palette.primary.main},ticketAmountTextField:{width:"100%",height:"100%","& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.primary.main},"& .MuiOutlinedInput-input":{color:e.palette.common.white,textAlign:"center",fontSize:"15px"},"& .MuiOutlinedInput-adornedStart":{paddingLeft:"8px"},"& .MuiOutlinedInput-adornedEnd":{paddingRight:"8px"}},maxButton:{color:e.palette.primary.main,fontSize:"15px",width:"30px",minWidth:"30px",padding:0,"&:hover":{backgroundColor:"transparent"}},priceSection:{width:"100%",height:"80px",display:"flex",flexDirection:"column",alignItems:"flex-start",marginBottom:"10px"},priceLabel:{margin:"-5px 0 -5px 0",display:"flex",flexDirection:"column",alignItems:"center"},paymentOptionSection:{width:"100%",display:"flex"},basketPrice:{width:"50%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"baseline"},paymentOptionSelect:{width:"100%",height:"50px",marginTop:"-10px",padding:"0",display:"flex",flexDirection:"row",justifyContent:"flex-start"},paymentOptionSelection:{padding:"0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},paymentOptionMenu:{padding:"0 10px 0 0",margin:"5px 10px 5px 10px",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},paymentOptionLogoContainer:{height:"30px",width:"30px",margin:"5px 10px 5px 10px",display:"flex",flexDirection:"row",justifyContent:"center"},paymentOptionLogo:{height:"100%",borderRadius:"50%"},buySection:{width:"100%",display:"flex",flexDirection:"column"},purchaseButtonContent:{display:"flex",flexDirection:"row",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},purchaseButtonContentLeft:{width:"20%",display:"flex",justifyContent:"center"},purchaseButtonContentMiddle:{width:"60%"},purchaseButtonContentRight:{width:"20%"},purchaseSpinner:{height:"50px",color:e.palette.secondary.main},walletBalance:{marginTop:"5px",fontSize:"12px",color:"#777",textAlign:"left"}}})),vt=1e3,yt=function(e){return(null!==e&&void 0!==e?e:0)>=5},wt=function(e){var t=e.raffle,n=e.updateRaffle,i=Object(x.a)(Object(x.a)({},Ne()),gt()),r=Z(),c=r.draffleClient,s=r.dispenserClient,o=Object(a.useState)(!1),u=Object(m.a)(o,2),d=u[0],b=u[1],h=Object(a.useState)(),O=Object(m.a)(h,2),g=O[0],v=O[1],y=Object(a.useMemo)((function(){return{mint:t.proceeds.mint,dispenserPriceIn:new ge.u64(1),dispenserPriceOut:new ge.u64(1)}}),[t]),w=Object(a.useState)(y),S=Object(m.a)(w,2),C=S[0],N=S[1],T=Object(a.useState)({mint:t.proceeds.mint.publicKey,amount:void 0}),P=Object(m.a)(T,2),I=P[0],M=P[1],R=Object(a.useState)(1),B=Object(m.a)(R,2),D=B[0],E=B[1],K=Object(a.useState)([]),L=Object(m.a)(K,2),F=L[0],W=L[1],V=Object(a.useMemo)((function(){return(t.metadata.alternatePurchaseMints||[]).reduce((function(e,n){if(!bt.b.has(n.toString()))return console.log("Mint ".concat(n.toString()," not found in token registry")),e;var a=F.find((function(e){return e.account.mintTokenOut.toString()===t.proceeds.mint.publicKey.toString()&&e.account.mintTokenIn.toString()===n.toString()}));if(!a)return e;var i=bt.b.get(n.toString());return e.set(n.toString(),{mint:{name:i.name,publicKey:n,logoUrl:i.logoURI,symbol:i.symbol,decimals:i.decimals},dispenserPriceIn:a.account.rateTokenIn,dispenserPriceOut:a.account.rateTokenOut}),e}),new Map([[t.proceeds.mint.publicKey.toString(),{mint:t.proceeds.mint,dispenserPriceIn:new ge.u64(1),dispenserPriceOut:new ge.u64(1)}]]))}),[t,F]),_=Object(a.useCallback)((function(e){return ht(t.proceeds.ticketPrice,e,C)}),[t.proceeds.ticketPrice,C]);Object(a.useEffect)((function(){s.account.registry.all().then(W)}),[s,W]),Object(a.useEffect)((function(){var e;if(null===(e=c.provider.wallet)||void 0===e?void 0:e.publicKey){var t,n=function(){var e=Object(G.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(c.provider);case 2:n=e.sent,v(n),yt(g)&&C.mint.publicKey.toBase58()!==bt.c&&clearInterval(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n(),t=setInterval((function(){n()}),5e3),function(){return clearInterval(t)}}}),[g,c.provider,c.provider.wallet.publicKey,C.mint.publicKey]),Object(a.useEffect)((function(){if(c.provider.wallet.publicKey){var e=setInterval((function(){t()}),5e3);return t(),function(){return clearInterval(e)}}function t(){return n.apply(this,arguments)}function n(){return(n=Object(G.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=M,e.t1=C.mint.publicKey,e.next=4,Object(z.c)(c.provider,C.mint.publicKey);case 4:e.t2=e.sent,e.t3={mint:e.t1,amount:e.t2},(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[c.provider,c.provider.wallet,C.mint.publicKey]);var Y=Object(a.useMemo)((function(){return yt(g)}),[g]),X=Object(a.useMemo)((function(){return C.mint.publicKey.toBase58()===bt.c?{mint:new H.PublicKey(bt.c),amount:new ge.u64(null!==g&&void 0!==g?g:0)}:I}),[g,I,C.mint.publicKey]),J=Object(a.useMemo)((function(){var e;return(null===(e=X.amount)||void 0===e?void 0:e.gte(_(D)))&&Y}),[X,Y,D,_]),Q=Object(a.useMemo)((function(){if(!X.amount)return new ge.u64(0);var e=X.amount.mul(C.dispenserPriceOut).div(C.dispenserPriceIn).div(t.proceeds.ticketPrice);return C.mint.publicKey.toString()===X.mint.toString()&&e.ltn(D)&&E(e.toNumber()),e}),[t.proceeds.ticketPrice,D,X,C]);Object(a.useEffect)((function(){var e=0===D?1:D;Math.min(D,Q.toNumber()),E(e)}),[Q,D,E]);var q=Object(a.useMemo)((function(){var e;return(null===(e=X.amount)||void 0===e?void 0:e.gte(_(D+1)))&&Y}),[X,Y,D,_]),$=Object(a.useCallback)(Object(G.a)(U.a.mark((function e(){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),a=void 0!==I.amount,e.next=5,xt(c,s,t,D,C,a);case 5:return E(1),e.next=8,Object(he.sleep)(500);case 8:n(),l.b.success("You bought ".concat(D," ticket(s)")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0.msg?l.b.error("Transaction failed: ".concat(e.t0.msg)):l.b.error("Unexpected error");case 15:b(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),[c,s,t,D,C,I,E,n]);return Object(A.jsxs)("div",{className:"".concat(i.actionSection," ").concat(i.root),children:[Object(A.jsx)(j.a,{variant:"h3",className:i.titleSection,children:"Purchase Tickets"}),Object(A.jsx)("div",{className:i.amountLabel,children:Object(A.jsx)(j.a,{variant:"overline",children:"Amount"})}),Object(A.jsxs)("div",{className:i.ticketAmountSection,children:[Object(A.jsx)("div",{className:i.ticketAmountSectionLeft,children:Object(A.jsx)(k.a,{size:"small",onClick:function(){return E((function(e){return Math.max(e-1,1)}))},disabled:D<=1,className:i.changeTicketAmountButton,children:Object(A.jsx)(pt.a,{style:{fontSize:30}})})}),Object(A.jsx)("div",{className:i.ticketAmountSectionMiddle,children:Object(A.jsx)(lt.a,{size:"small",variant:"outlined",className:i.ticketAmountTextField,value:D,onChange:function(e){var n=e.target.value;if(""===n||/^[0-9\b]+$/.test(n)){var a=Math.min(Math.min(Number(n),vt-t.totalTickets),Q.toNumber());E(a)}},InputProps:{endAdornment:Object(A.jsx)(Ot,{size:"small",variant:"text",disableRipple:!0,className:i.maxButton,onClick:function(){var e=Math.min(vt-t.totalTickets,Q.toNumber());E(e)},children:"MAX"}),startAdornment:Object(A.jsx)(Ot,{size:"small",variant:"text",disableRipple:!0,className:i.maxButton,onClick:function(){return E(1)},children:"MIN"})}})}),Object(A.jsx)("div",{className:i.ticketAmountSectionRight,children:Object(A.jsx)(k.a,{size:"small",onClick:function(){return E((function(e){return e+1}))},disabled:t.totalTickets+D>=ee.a||!q||D+1>vt-t.totalTickets,className:i.changeTicketAmountButton,children:Object(A.jsx)(mt.a,{style:{fontSize:30}})})})]}),Object(A.jsx)("div",{className:i.priceSection,children:Object(A.jsxs)("div",{className:i.paymentOptionSection,children:[Object(A.jsxs)("div",{className:i.basketPrice,children:[Object(A.jsx)(j.a,{variant:"overline",children:"Total Price"}),Object(A.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(A.jsx)(j.a,{variant:"h4",children:Object(z.d)(_(D),C.mint)})})]}),Object(A.jsxs)("div",{className:i.basketPrice,children:[Object(A.jsx)(j.a,{variant:"overline",children:"Currency"}),1===V.size?Object(A.jsxs)("div",{className:i.paymentOptionSelection,children:[Object(A.jsx)(j.a,{variant:"h4",children:t.proceeds.mint.symbol}),Object(A.jsx)("div",{className:i.paymentOptionLogoContainer,children:Object(A.jsx)("img",{className:i.paymentOptionLogo,src:t.proceeds.mint.logoUrl,alt:"Logo for ".concat(t.proceeds.mint.name)})})]}):Object(A.jsxs)(ut.a,{variant:"standard",label:"Purchase mint",value:C.mint.publicKey.toString(),onChange:function(e){return N(V.get(e.target.value))},className:i.paymentOptionSelect,MenuProps:{disableScrollLock:!0},renderValue:function(e){var t=V.get(e);return Object(A.jsxs)("div",{className:i.paymentOptionSelection,children:[Object(A.jsx)(j.a,{variant:"h4",children:t.mint.symbol}),Object(A.jsx)("div",{className:i.paymentOptionLogoContainer,children:Object(A.jsx)("img",{className:i.paymentOptionLogo,src:t.mint.logoUrl,alt:"Logo for ".concat(t.mint.name)})})]})},children:[Object(A.jsx)(dt.a,{value:"",disabled:!0,children:"Select purchase currency"}),Object(p.a)(V.values()).map((function(e){var t=e.mint;return Object(A.jsxs)(dt.a,{value:t.publicKey.toString(),classes:{root:i.paymentOptionMenu},children:[Object(A.jsx)("div",{className:i.paymentOptionLogoContainer,children:Object(A.jsx)("img",{className:i.paymentOptionLogo,src:t.logoUrl,alt:"Logo for ".concat(t.name)})}),Object(A.jsxs)(j.a,{variant:"body1",children:[Object(A.jsx)(Ue,{message:t.name,maxCharLength:12})," (".concat(t.symbol,")")]})]},t.publicKey.toString())}))]})]})]})}),Object(A.jsxs)("div",{className:i.buySection,children:[Object(A.jsx)(Ot,{variant:"contained",className:i.mainButton,onClick:$,disabled:0===D||t.totalTickets+D>ee.a||!J||d,children:Object(A.jsx)("div",{className:i.purchaseButtonContent,children:d?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:i.purchaseButtonContentLeft,children:Object(A.jsx)(f.a,{size:20,className:i.purchaseSpinner})}),Object(A.jsx)("div",{className:i.purchaseButtonContentMiddle,children:"Processing..."}),Object(A.jsx)("div",{className:i.purchaseButtonContentRight})]}):Object(A.jsxs)(A.Fragment,{children:["Buy ticket ",!Y&&"(Insufficient SOL)"]})})}),Object(A.jsxs)("div",{className:i.walletBalance,children:["Wallet balance:"," ",X?Object(z.d)(X.amount||new ge.u64(0),C.mint):0," ",C.mint.symbol]})]})]})},kt=Object(I.a)((function(e){return{root:{width:"100%",height:"inherit",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},actionTagline:{width:"100%",marginBottom:"20px"},textHighlight:{fontWeight:"bold",color:e.palette.secondary.main,marginBottom:"10px"},topSection:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},raffleTitle:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center",alignItems:"center",justifyItems:"space-between"},leftTitleSection:{width:"10%",display:"flex"},middleTitleSection:{width:"90%",display:"flex",justifyContent:"center",textAlign:"center"},rightTitleSection:{width:"10%"},backButton:{color:e.palette.common.black,backgroundColor:Object(Ce.a)(e.palette.secondary.main,.8),"&:hover":{boxShadow:"0px 0px 5px ".concat(e.palette.secondary.main,", inset 0px 0px 5px ").concat(e.palette.secondary.main),backgroundColor:Object(Ce.a)(e.palette.secondary.main,.8)}},countdown:function(t){return{width:"100%",display:"flex",justifyContent:"center",marginTop:"10px",fontSize:t.device===K.a.Phone?"32px":"60px",color:"white",WebkitTextStrokeWidth:"1px",WebkitTextStrokeColor:e.palette.secondary.main,textShadow:"0 0 10px ".concat(e.palette.secondary.main)}},mainContent:{width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end"},prizesSection:{width:"70%",display:"flex",flexDirection:"column",paddingRight:"20px",minHeight:"450px",justifyContent:"center",alignItems:"center"},prizesHeader:{marginBottom:"10px"},labelPrizeAmount:{marginLeft:"5px",color:e.palette.secondary.main,textTransform:"initial","&:hover":{textShadow:"0px 0px 5px ".concat(e.palette.secondary.main),backgroundColor:"transparent",textDecoration:"none"}},seeAllPrizesLabel:{},detailsSection:function(e){var t=e.device;return{paddingTop:"20px",display:"flex",flexDirection:"column",justifyContent:"space-evenly",width:"30%",minWidth:t===K.a.Phone?"256px":"313px",maxWidth:(K.a.Phone,"380px"),maxHeight:"500px"}},actionSectionContainer:{padding:"20px 0 20px 0"},actionSectionInner:{padding:"10px 0",width:"90%",textAlign:"center"},connectToBuyButton:{width:"80%",height:"40px"},scrollIcon:{color:e.palette.common.white,transform:"rotate(90deg)",fontSize:"50px",opacity:"0.6",marginTop:"20px",marginBottom:"60px"},spacer:{width:"100%",height:"20px"}}})),St=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},prizesGrid:{scrollMargin:"130px",display:"flex",width:"100%",marginTop:"5px"},prizeItem:function(e){return{marginBottom:e.device===K.a.Phone?"10px":"30px"}}}})),Ct=function(e){var t=e.raffle,n=e.scrollRef,i=Object(D.a)().device,r=Object(x.a)(Object(x.a)({},Ne()),St({device:i}));return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(A.jsx)("div",{className:r.root,children:Object(A.jsx)(b.a,{ref:n,container:!0,justifyContent:"space-between",direction:i===K.a.Phone?"column":"row",className:r.prizesGrid,children:t.prizes.map((function(e,t){return Object(A.jsx)(b.a,{item:!0,children:Object(A.jsx)(ct,{className:r.prizeItem,prize:e,index:t},t)})}))})})},Nt=function(e){var t,n=e.raffle,i=e.updateRaffle,r=Object(D.a)().device,c=Object(x.a)(Object(x.a)({},Ne()),kt({device:r})),s=Object(u.f)().push,o=Z().draffleClient,l=Object(a.useRef)(null),p=Object(a.useMemo)((function(){var e;if(null===(e=o.provider.wallet)||void 0===e?void 0:e.publicKey)return null===n||void 0===n?void 0:n.entrants.get(o.provider.wallet.publicKey.toString())}),[n,null===(t=o.provider.wallet)||void 0===t?void 0:t.publicKey]);return n?Object(A.jsx)("div",{className:c.root,children:r===K.a.Phone?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{variant:"h1",children:"> ".concat(n.metadata.name)}),Object(A.jsx)("div",{className:c.countdown,children:Object(A.jsx)(R,{endTimestamp:n.endTimestamp,spacing:"5%"})}),Object(A.jsx)(De,{raffle:n,userConnected:!!o.provider.wallet.publicKey,userTickets:null===p||void 0===p?void 0:p.tickets}),Object(A.jsx)("div",{className:c.spacer}),Object(A.jsx)(j.a,{variant:"overline",children:"Prizes"}),Object(A.jsx)(Ct,{raffle:n,scrollRef:l}),Object(A.jsx)("div",{className:c.spacer}),o.provider.wallet.publicKey?Object(A.jsx)(wt,{raffle:n,updateRaffle:i}):Object(A.jsx)(Tt,{}),Object(A.jsx)("div",{className:c.spacer})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:c.topSection,children:[Object(A.jsxs)("div",{className:c.raffleTitle,children:[Object(A.jsx)("div",{className:c.leftTitleSection,children:Object(A.jsx)(k.a,{size:"medium",className:c.backButton,onClick:function(){return s(d.a.RAFFLES)},children:Object(A.jsx)(xe.a,{})})}),Object(A.jsx)("div",{className:c.middleTitleSection,children:Object(A.jsx)(j.a,{variant:"h1",children:"> ".concat(n.metadata.name)})}),Object(A.jsx)("div",{className:c.rightTitleSection})]}),Object(A.jsx)("div",{className:c.countdown,children:Object(A.jsx)(R,{endTimestamp:n.endTimestamp,spacing:"5%"})})]}),Object(A.jsxs)("div",{className:c.mainContent,children:[Object(A.jsxs)("div",{className:c.prizesSection,children:[Object(A.jsxs)(j.a,{variant:"overline",className:c.prizesHeader,children:["Prizes",n.prizes.length>3&&Object(A.jsxs)(A.Fragment,{children:[" -",Object(A.jsx)(ue.a,{className:c.labelPrizeAmount,variant:"text",disableRipple:!0,onClick:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"start"})},children:Object(A.jsxs)("span",{children:["See all ",n.prizes.length]})})]})]}),Object(A.jsx)(ot,{prizes:n.prizes})]}),Object(A.jsxs)("div",{className:c.detailsSection,children:[Object(A.jsx)(De,{raffle:n,userConnected:!!o.provider.wallet.publicKey,userTickets:null===p||void 0===p?void 0:p.tickets}),Object(A.jsx)("div",{className:c.actionSectionContainer,children:o.provider.wallet.publicKey?Object(A.jsx)(wt,{raffle:n,updateRaffle:i}):Object(A.jsx)(Tt,{})})]})]}),n.prizes.length>3&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Oe.a,{className:c.scrollIcon}),Object(A.jsx)(Ct,{raffle:n,scrollRef:l})]})]})}):null},Tt=function(){var e=Object(D.a)().device,t=Object(x.a)(Object(x.a)({},Ne()),kt({device:e}));return Object(A.jsx)("div",{className:t.actionSection,children:Object(A.jsxs)("div",{className:t.actionSectionInner,children:[Object(A.jsxs)("div",{className:t.actionTagline,children:[Object(A.jsx)(j.a,{variant:"h3",className:t.textHighlight,children:"Tickets are still available."}),Object(A.jsx)(j.a,{variant:"body1",children:"Don't miss out!"})]}),Object(A.jsx)(ke.b,{variant:"outlined",color:"secondary",className:"".concat(t.mainButton," ").concat(t.connectToBuyButton),children:"Connect to buy"})]})})},Pt=function(e){var t=Object(u.f)().push;return Object(A.jsx)(oe.a,{onBackNavigation:function(){return t(d.a.RAFFLES)},children:Object(A.jsx)(Nt,Object(x.a)({},e))})},It=function(){var e=Object(u.h)().id,t=se(),n=t.raffles,i=t.updateRaffleById,r=Object(a.useState)(),c=Object(m.a)(r,2),s=c[0],o=c[1],l=Object(a.useCallback)((function(){i&&i(e)}),[e,i]);Object(a.useEffect)((function(){l();var e=setInterval(l,5e3);return function(){return clearInterval(e)}}),[l]),Object(a.useEffect)((function(){n.has(e)&&o(n.get(e))}),[n,e]);var d=Object(a.useMemo)((function(){return s&&new Date>s.endTimestamp}),[s]);return s?d?Object(A.jsx)(it,{raffle:s,updateRaffle:l}):Object(A.jsx)(Pt,{raffle:s,updateRaffle:l}):null},Mt=n(751),At=n.p+"static/media/discord-logo.c4634138.svg",Rt=n.p+"static/media/twitter-logo.23e6bb64.svg",zt=Object(I.a)((function(e){return{root:function(e){return{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",margin:e.device===K.a.Phone?"20px 0":"-20px 0"}},socialLinksContainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"30px"},socialLinkContainer:function(e){return{height:"50px",width:"80px",margin:e.device===K.a.Phone?"0 5px":"0 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},socialLink:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},buttonContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:"30px",width:"250px"}}}));n(538);var Bt,Dt=function(){var e=Object(D.a)().device,t=Object(x.a)(Object(x.a)({},Ne()),zt({device:e})),n=Object(u.f)().push;return Object(A.jsxs)("div",{className:t.root,children:[Object(A.jsx)("img",{className:e===K.a.Phone?"banner-small":"banner",src:"thesupersol.png",alt:"thesupersol banner",width:e===K.a.Phone?"280px":"600px"}),Object(A.jsxs)("div",{className:t.socialLinksContainer,children:[Object(A.jsx)("div",{className:t.socialLinkContainer,children:Object(A.jsx)(w.a,{title:"Discord",placement:"top",children:Object(A.jsx)(Mt.a,{className:t.socialLink,target:"blank",href:"https://discord.com/invite/YeA9CajTe5",children:Object(A.jsx)("img",{src:At,alt:"disord-logo",width:"50px"})})})}),Object(A.jsx)("div",{className:t.socialLinkContainer,children:Object(A.jsx)(w.a,{title:"Twitter",placement:"top",children:Object(A.jsx)(Mt.a,{className:t.socialLink,target:"blank",href:"https://twitter.com/the_supersol",children:Object(A.jsx)("img",{src:Rt,alt:"twitter-logo",width:"50px"})})})})]}),Object(A.jsx)("div",{className:t.buttonContainer,children:Object(A.jsx)(ue.a,{variant:"outlined",color:"secondary",size:"large",onClick:function(){return n(d.a.RAFFLES)},className:t.mainButton,children:"TheSuperSOL raffle"})})]})},Et=function(){return Object(A.jsx)(oe.a,{children:Object(A.jsx)(Dt,{})})},Kt=n(423),Lt=n(752),Ft=n(56),Ut=n.n(Ft),Gt=n(168),Ht=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",width:"100%"},raffleGrid:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},raffleGridItem:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},raffleCard:{width:"180px",height:"150px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},walletButtonContainer:{margin:"20px 0 0 0"}}})),Wt=function(){var e=Ht(),t=Object(h.e)().connected,n=Object(u.f)().push,i=se(),r=i.raffles,c=i.fetchAllRaffles,s=Z().dispenserClient,o=Object(a.useState)([]),l=Object(m.a)(o,2),f=l[0],x=l[1];return Object(a.useEffect)((function(){c(!0)}),[c]),Object(a.useEffect)((function(){s.account.registry.all().then(x)}),[s,x]),Object(A.jsx)("div",{className:e.root,children:t?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(A.jsx)(j.a,{variant:"h3",children:"Dispensers"}),Object(A.jsx)(k.a,{size:"small",onClick:function(){s.rpc.createRegistry(new Ut.a(5e8),new Ut.a(1e6),{accounts:{registry:X.b,vaultTokenIn:jt.b,vaultTokenOut:jt.c,admin:s.provider.wallet.publicKey,mintTokenIn:new H.PublicKey("So11111111111111111111111111111111111111112"),mintTokenOut:new H.PublicKey("zRpVjG5wMWrNhpTtSiGMz9iBaMTQDdaVGCFLmYqCs4U"),tokenProgram:ge.TOKEN_PROGRAM_ID,systemProgram:H.SystemProgram.programId,rent:H.SYSVAR_RENT_PUBKEY},signers:[X.c]}).then((function(e){return console.log(e)}))},children:Object(A.jsx)(Lt.a,{className:e.scrollButtonIcon})})]}),Object(A.jsx)(Xe,{height:"20px"}),0===f.length?Object(A.jsx)(A.Fragment,{children:"No dispenser found."}):Object(A.jsx)(b.a,{container:!0,spacing:1,className:e.raffleGrid,children:f.map((function(t){return Object(A.jsx)(b.a,{item:!0,xs:3,spacing:3,className:e.raffleGridItem,children:Object(A.jsxs)(g.a,{className:e.raffleCard,children:[Object(A.jsxs)(j.a,{children:["Admin: ",Object(P.c)(t.account.admin)]}),Object(A.jsxs)(j.a,{children:["In: ",Object(P.c)(t.account.mintTokenIn)]}),Object(A.jsxs)(j.a,{children:["->"," Vault:"," ",Object(P.c)(t.account.vaultTokenIn)]}),Object(A.jsxs)(j.a,{children:["Out: ",Object(P.c)(t.account.mintTokenOut)]}),Object(A.jsxs)(j.a,{children:["->"," Vault:"," ",Object(P.c)(t.account.vaultTokenOut)]})]})},t.publicKey.toString())}))}),Object(A.jsx)(Xe,{height:"20px"}),Object(A.jsx)(j.a,{variant:"h3",children:"Ongoing raffles"}),Object(A.jsx)(Xe,{height:"20px"}),Object(A.jsx)(b.a,{container:!0,spacing:1,className:e.raffleGrid,children:Object(p.a)(r.values()).filter((function(e){return new Date<=e.endTimestamp})).map((function(t){return Object(A.jsx)(b.a,{item:!0,xs:3,spacing:3,className:e.raffleGridItem,children:Object(A.jsxs)(g.a,{className:e.raffleCard,onClick:function(){return n("".concat(d.a.ADMIN.RAFFLES,"/").concat(t.publicKey))},children:[Object(A.jsx)(j.a,{children:t.metadata.name}),Object(A.jsx)(j.a,{children:Object(A.jsx)(j.a,{children:t.endTimestamp.toISOString()})})]})})}))}),Object(A.jsx)(Xe,{height:"50px"}),Object(A.jsx)(j.a,{variant:"h3",children:"Ended raffles"}),Object(A.jsx)(Xe,{height:"20px"}),Object(A.jsx)(b.a,{container:!0,spacing:1,className:e.raffleGrid,children:Object(p.a)(r.values()).filter((function(e){return new Date>e.endTimestamp})).map((function(t){return Object(A.jsx)(b.a,{item:!0,xs:3,spacing:3,className:e.raffleGridItem,children:Object(A.jsxs)(g.a,{className:e.raffleCard,onClick:function(){return n("".concat(d.a.ADMIN.RAFFLES,"/").concat(t.publicKey))},children:[Object(A.jsx)(j.a,{children:t.metadata.name}),Object(A.jsx)(j.a,{children:t.endTimestamp.toISOString()})]})},t.publicKey.toString())}))})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{variant:"h3",children:"Connect with an admin wallet to unlock admin panel"}),Object(A.jsx)("div",{className:e.walletButtonContainer,children:Object(A.jsx)(Gt.a,{})})]})})},Vt=function(){return Object(A.jsx)(oe.a,{children:Object(A.jsx)(Wt,{})})},_t=n(753),Yt=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",width:"100%"},headerContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},entrantRow:{display:"flex",flexDirection:"row",justifyContent:"center"},walletButtonContainer:{margin:"20px 0 0 0"}}})),Xt=function(){var e=Yt(),t=Object(u.h)().id,n=se(),i=n.raffles,r=n.updateRaffleById,c=Z().draffleClient,s=Object(a.useState)(),o=Object(m.a)(s,2),l=o[0],d=o[1],b=Object(a.useState)(!1),f=Object(m.a)(b,2),h=f[0],x=f[1];Object(a.useEffect)((function(){var e=i.get(t);e&&d(e)}),[i,t]);var O=Object(a.useCallback)(Object(G.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.b)((function(){return c.rpc.revealWinners({accounts:{raffle:t,recentBlockhashes:H.SYSVAR_RECENT_BLOCKHASHES_PUBKEY}})}),"Raffle revealed");case 2:case"end":return e.stop()}}),e)}))),[c,t]);return h?Object(A.jsx)("div",{className:e.root,children:Object(A.jsx)(j.a,{variant:"h3",children:"Loading..."})}):l?Object(A.jsxs)("div",{className:e.root,children:[l?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:e.headerContainer,children:[Object(A.jsxs)(j.a,{variant:"h3",children:["Entrants list (total ",l.entrants.size,")"]}),Object(A.jsx)(k.a,{onClick:function(){x(!0),r(t),x(!1)},children:Object(A.jsx)(_t.a,{})}),Object(A.jsx)(ue.a,{onClick:O,variant:"contained",children:"Reveal winners"})]}),Object(A.jsx)(Xe,{height:"20px"}),Object(p.a)(l.entrants.entries()).map((function(t){var n=Object(m.a)(t,2),a=n[0],i=n[1];return Object(A.jsxs)("div",{className:e.entrantRow,children:[Object(A.jsxs)(j.a,{variant:"body1",children:[a,": "]}),Object(A.jsx)(j.a,{variant:"body1",children:i.tickets.toString()})]},a)}))]}):Object(A.jsx)(j.a,{variant:"h3",children:"No entrants"}),Object(A.jsx)(Xe,{height:"50px"})]}):null},Jt=function(){return Object(A.jsx)(oe.a,{children:Object(A.jsx)(Xt,{})})},Qt=n(21),Zt=n(765),qt=n(754),$t=n(756),en=n(755),tn=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"justify"},titleSection:{width:"100%"},mainSection:{width:"100%",margin:"30px 0 30px 0",display:"flex",flexDirection:"row"},descriptionSection:{width:"55%",maxWidth:"600px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"baseline",textAlign:"justify"},cleanupSection:{width:"45%",maxWidth:"600px",height:"100%",padding:"0 20px 0 50px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},media:{maxWidth:"200px",width:"100%"},accordionItem:{width:"100%"},accordionContent:{width:"100%",padding:"0 10px 0 10px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"baseline",textAlign:"justify"},highlightPrimary:{fontWeight:"bold",color:e.palette.primary.main},highlightSecondary:{fontWeight:"bold",color:e.palette.secondary.main},actionSectionInner:{padding:"10px 0",width:"90%",textAlign:"center"},actionTagline:{width:"100%",marginBottom:"20px"},connectToBuyButton:{width:"60%",height:"40px"},accountCount:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},accountSelection:{width:"100%",padding:"0 10px 10px 10px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},closeButton:{width:"90%",height:"30px"},orDivider:{margin:"20px 0 20px 0"},purchaseButtonContent:{display:"flex",flexDirection:"row",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},purchaseButtonContentLeft:{width:"20%",display:"flex",justifyContent:"center"},purchaseButtonContentMiddle:{width:"60%"},purchaseButtonContentRight:{width:"20%"},purchaseSpinner:{height:"50px",color:e.palette.secondary.main},refreshButtonContainer:{margin:"2px 0 0 10px"},refreshButton:{width:"16px",height:"16px",color:e.palette.secondary.main}}})),nn=function(){var e=Object(G.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getParsedTokenAccountsByOwner(n,{programId:ge.TOKEN_PROGRAM_ID});case 2:return a=e.sent.value,e.abrupt("return",a.map((function(e){var t=e.pubkey;return 0===e.account.data.parsed.info.tokenAmount.uiAmount?t.toBase58():void 0})).filter(Boolean));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),an=function(){var e=Object(G.a)(U.a.mark((function e(t,n,a){var i,r,c,s,o,l,u=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:[],e.next=3,t.getRecentBlockhash();case 3:return a.recentBlockhash=e.sent.blockhash,e.next=6,n(a);case 6:return a=e.sent,i.length>0&&(r=a).partialSign.apply(r,Object(p.a)(i)),c=a.serialize(),e.next=11,t.sendRawTransaction(c);case 11:s=e.sent,o=0;case 13:if(!(o<30)){e.next=24;break}return e.next=16,t.getSignatureStatus(s);case 16:if("confirmed"!==(null===(l=e.sent.value)||void 0===l?void 0:l.confirmationStatus)){e.next=19;break}return e.abrupt("return",s);case 19:return e.next=21,Object(P.d)(1e3);case 21:o++,e.next=13;break;case 24:throw new Error("Tx ".concat(s," has not been confirmed within 30 seconds"));case 25:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),rn=function(e,t){return ge.Token.createCloseAccountInstruction(ge.TOKEN_PROGRAM_ID,e,t,t,[])},cn=function(){var e=Object(x.a)(Object(x.a)({},Ne()),tn());return Object(A.jsxs)(A.Fragment,{children:[" ",Object(A.jsxs)(Zt.a,{children:[Object(A.jsx)(qt.a,{expandIcon:Object(A.jsx)(en.a,{}),children:Object(A.jsx)(j.a,{variant:"h3",children:"What does it do?"})}),Object(A.jsx)($t.a,{children:Object(A.jsx)("div",{className:e.accordionContent,children:Object(A.jsxs)(j.a,{variant:"body1",children:["Sending your precious NFT to Grandma's wallet for her birthday, listing an NFT on a marketplace, or spending your last few USDC on one of our upcoming dRaffles are all ordinary actions that leave an empty account cluttering your wallet, sometimes forever... At the dRaffle Luck Club, we like to keep things tidy, which is why we\u2019ve created this simple and nifty tool to help you clean these up and regain"," ",Object(A.jsx)("span",{className:e.highlightPrimary,children:"proper wallet feng shui."})]})})})]}),Object(A.jsxs)(Zt.a,{children:[Object(A.jsx)(qt.a,{expandIcon:Object(A.jsx)(en.a,{}),children:Object(A.jsx)(j.a,{variant:"h3",children:"Why should you care?"})}),Object(A.jsx)($t.a,{children:Object(A.jsx)("div",{className:e.accordionContent,children:Object(A.jsxs)("ol",{children:[Object(A.jsx)(j.a,{variant:"body1",children:Object(A.jsxs)("li",{children:['Although it is generally obscured behind a single fee displayed to you by dApps, there is actually a cost (a.k.a "rent") to opening and keeping open each token account:'," ","".concat(.00203928)," SOL. This sum is paid by ",Object(A.jsx)("span",{style:{fontWeight:"bold"},children:"you"})," and is locked in the account as long as it exists."," ",Object(A.jsx)("span",{className:e.highlightPrimary,children:"Closing the accounts is the only way to get them SOL back!"})]},1)}),Object(A.jsx)(j.a,{variant:"body1",children:Object(A.jsx)("li",{children:"Wallets can get cluttered fast, especially if you regularly buy/sell NFTs. A tidy wallet can prevent mistakes."},2)}),Object(A.jsx)(j.a,{variant:"body1",children:Object(A.jsx)("li",{children:"Potential ASMR substitute if watching videos of sand being cut is not enough anymore."},3)})]})})})]}),Object(A.jsxs)(Zt.a,{className:e.accordionItem,children:[Object(A.jsx)(qt.a,{expandIcon:Object(A.jsx)(en.a,{}),children:Object(A.jsx)(j.a,{variant:"h3",children:"Is it safe?"})}),Object(A.jsx)($t.a,{children:Object(A.jsx)("div",{className:e.accordionContent,children:Object(A.jsxs)(j.a,{variant:"body1",children:["Yes. Only empty accounts can be closed, and dApps handle accounts creation automatically whenever needed."," ",Object(A.jsx)("span",{className:e.highlightPrimary,children:"If they don't it is a bug."})]})})})]}),Object(A.jsxs)(Zt.a,{className:e.accordionItem,children:[Object(A.jsx)(qt.a,{expandIcon:Object(A.jsx)(en.a,{}),children:Object(A.jsx)(j.a,{variant:"h3",children:"Disclaimer"})}),Object(A.jsx)($t.a,{children:Object(A.jsx)("div",{className:e.accordionContent,children:Object(A.jsxs)(j.a,{variant:"body1",children:["You should always send funds directly from exchanges to your wallet address,"," ",Object(A.jsx)("span",{className:e.highlightPrimary,children:"not to the token account address"}),". Make sure you haven't saved a token account address rather than a wallet address"]})})})]})]})},sn=function(){var e,t=Object(x.a)(Object(x.a)({},Ne()),tn()),n=Object(h.d)().connection,i=Object(h.e)(),r=i.publicKey,c=i.signTransaction,s=Z().draffleClient,o=Object(a.useState)([]),l=Object(m.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(""),b=Object(m.a)(p,2),O=b[0],g=b[1],v=Object(a.useState)(!1),y=Object(m.a)(v,2),w=y[0],S=y[1],C=Object(a.useState)(!1),N=Object(m.a)(C,2),T=N[0],I=N[1],M=Object(a.useCallback)((function(){if(r)return nn(n,r).then(d);d([])}),[n,r,d]);Object(a.useEffect)((function(){M()}),[M]);var R=Object(a.useMemo)((function(){return u.slice(0,27)}),[u]);return Object(A.jsx)(oe.a,{children:Object(A.jsxs)("div",{className:t.root,children:[Object(A.jsx)("div",{className:t.titleSection,children:Object(A.jsx)(j.a,{variant:"h1",children:"Wallet Cleanup Tool"})}),Object(A.jsxs)("div",{className:t.mainSection,children:[Object(A.jsx)("div",{className:t.descriptionSection,children:Object(A.jsx)(cn,{})}),Object(A.jsx)("div",{className:t.cleanupSection,children:Object(A.jsx)("div",{className:t.actionSection,children:r?Object(A.jsx)("div",{className:t.actionSectionInner,children:0===u.length?Object(A.jsxs)("div",{className:t.accountCount,children:[Object(A.jsxs)(j.a,{component:"div",children:["You have",Object(A.jsx)("span",{className:t.highlightPrimary,children:" 0 "}),"empty token accounts!"]}),Object(A.jsx)(k.a,{size:"small",className:t.refreshButtonContainer,onClick:function(){M()},children:Object(A.jsx)(_t.a,{className:t.refreshButton})})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:t.accountCount,children:[Object(A.jsxs)(j.a,{children:["You have",Object(A.jsxs)("span",{className:t.highlightPrimary,children:[" ",u.length," "]}),"empty token account(s)"]}),Object(A.jsx)(k.a,{size:"small",className:t.refreshButtonContainer,onClick:function(){M()},children:Object(A.jsx)(_t.a,{className:t.refreshButton})})]}),Object(A.jsx)(Xe,{height:"30px"}),Object(A.jsx)("div",{className:t.accountSelection,children:Object(A.jsxs)(ut.a,{label:"Token account",displayEmpty:!0,value:O,onChange:function(e){g(e.target.value)},MenuProps:{variant:"menu",getContentAnchorEl:null},children:[Object(A.jsx)(dt.a,{value:"",disabled:!0,children:"Select account to close"}),u.map((function(e){return Object(A.jsx)(dt.a,{value:e,children:Object(P.c)(new H.PublicKey(e))})}))]})}),Object(A.jsx)(ue.a,{variant:"contained",className:"".concat(t.mainButton," ").concat(t.closeButton),disabled:!O||w||T,onClick:Object(G.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&0!==u.length&&c){e.next=2;break}return e.abrupt("return");case 2:return S(!0),e.next=5,Object(V.b)(Object(G.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new H.Transaction({feePayer:r})).add(rn(new H.PublicKey(O),r)),e.abrupt("return",an(n,c,t));case 3:case"end":return e.stop()}}),e)}))),"Token account closed!");case 5:return g(""),e.next=8,Object(P.d)(1e3);case 8:M(),S(!1);case 10:case"end":return e.stop()}}),e)}))),children:Object(A.jsx)("div",{className:t.purchaseButtonContent,children:w?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:t.purchaseButtonContentLeft,children:Object(A.jsx)(f.a,{size:20,className:t.purchaseSpinner})}),Object(A.jsx)("div",{className:t.purchaseButtonContentMiddle,children:"Processing..."}),Object(A.jsx)("div",{className:t.purchaseButtonContentRight})]}):Object(A.jsx)(A.Fragment,{children:"Close selected"})})}),Object(A.jsx)("div",{className:t.orDivider,children:Object(A.jsx)(j.a,{children:"or"})}),Object(A.jsx)(ue.a,{variant:"contained",className:"".concat(t.mainButton," ").concat(t.closeButton),disabled:0===u.length||w||T,onClick:Object(G.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&c){e.next=2;break}return e.abrupt("return");case 2:return I(!0),e.next=5,Object(V.b)(Object(G.a)(U.a.mark((function e(){var t,a,i,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new H.Transaction({feePayer:r}),a=Object(Qt.a)(R);try{for(a.s();!(i=a.n()).done;)s=i.value,t.add(rn(new H.PublicKey(s),r))}catch(o){a.e(o)}finally{a.f()}return e.abrupt("return",an(n,c,t));case 4:case"end":return e.stop()}}),e)}))),"Token accounts closed!");case 5:return g(""),e.next=8,Object(P.d)(1e3);case 8:M(),I(!1);case 10:case"end":return e.stop()}}),e)}))),children:Object(A.jsx)("div",{className:t.purchaseButtonContent,children:T?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:t.purchaseButtonContentLeft,children:Object(A.jsx)(f.a,{size:20,className:t.purchaseSpinner})}),Object(A.jsx)("div",{className:t.purchaseButtonContentMiddle,children:"Processing..."}),Object(A.jsx)("div",{className:t.purchaseButtonContentRight})]}):Object(A.jsx)(A.Fragment,{children:(null!==(e=null===R||void 0===R?void 0:R.length)&&void 0!==e?e:0)<27?"Close all in one click":"Close 27 accounts at once (max)"})})})]})}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:t.actionTagline,children:Object(A.jsx)(j.a,{variant:"h3",className:t.highlightSecondary,children:"Connect your wallet to begin."})}),Object(A.jsx)(ke.b,{variant:"outlined",color:"secondary",className:"".concat(t.mainButton," ").concat(t.connectToBuyButton),children:"Connect"})]})})})]}),ee.b&&Object(A.jsx)(ue.a,{variant:"contained",onClick:Object(G.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&c){e.next=2;break}return e.abrupt("return");case 2:return["7AF95zJCMQ1JNtkFJRuTiLhMc9xYeAyAHsBPgX8hXEmf","JA2Ay71w8McVD6DMH93qGqvzxZGVGn9ZnTW6U1F8UuK8","BzFPfRWV8fZcQkjTQDZDHwSL2hjWujo3L4NUWej7so4j","FGDSKx4QAfMhzWrBkte4Y3aXdQBpjGudHW5cbyiaGyxm","EExXV45jz4Eo64XCXQNTkf1idShiJVXSf4GVwB3BaET4"].map(function(){var e=Object(G.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.Token.getAssociatedTokenAddress(ge.ASSOCIATED_TOKEN_PROGRAM_ID,ge.TOKEN_PROGRAM_ID,new H.PublicKey(t),r);case 2:return a=e.sent,e.next=5,s.provider.connection.getAccountInfo(a);case 5:if(null!==e.sent){e.next=9;break}return e.next=9,Object(V.b)(Object(G.a)(U.a.mark((function e(){var i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new H.Transaction({feePayer:r})).add(ge.Token.createAssociatedTokenAccountInstruction(ge.ASSOCIATED_TOKEN_PROGRAM_ID,ge.TOKEN_PROGRAM_ID,new H.PublicKey(t),a,r,r)),e.abrupt("return",an(n,c,i));case 3:case"end":return e.stop()}}),e)}))),"Token account created!");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Object(P.d)(1e3);case 5:M();case 6:case"end":return e.stop()}}),e)}))),children:"Create ATA"})]})})},on=function(){return Object(A.jsxs)(u.c,{children:[Object(A.jsx)(u.a,{path:"/",exact:!0,component:Et}),Object(A.jsx)(u.a,{path:"".concat(d.a.RAFFLES,"/:id"),component:It}),Object(A.jsx)(u.a,{path:d.a.RAFFLES,exact:!0,component:fe}),Object(A.jsx)(u.a,{path:d.a.STAKE,exact:!0,component:Kt.a}),Object(A.jsx)(u.a,{path:d.a.TOOLS,exact:!0,component:sn}),Object(A.jsx)(u.a,{path:d.a.ADMIN.HOME,exact:!0,component:Vt}),Object(A.jsx)(u.a,{path:"".concat(d.a.ADMIN.RAFFLES,"/:id"),exact:!0,component:Jt})]})},ln=n(757),un=n(430),dn="#d9b114",pn="#f2ea05",mn=function(e){var t=e.device;return Object(un.a)({typography:{allVariants:{color:"#FFF",fontFamily:"Roboto Mono"},h1:{color:dn,textAlign:"center",fontSize:t===K.a.Phone?"20px":"40px"},h2:{color:pn,fontWeight:"bold",fontSize:t===K.a.Phone?"18px":"25px"},h3:{color:pn,fontWeight:"bold",fontSize:t===K.a.Phone?"15px":"16px"},h4:{color:"white",fontSize:(K.a.Phone,"20px")},body1:{fontSize:(K.a.Phone,"14px")},overline:{color:"#999",fontSize:t===K.a.Phone?"12px":"13px"},caption:{fontSize:t===K.a.Phone?"16x":"16px"}},palette:{type:"dark",background:{paper:"#212225",default:"linear-gradient(0deg, rgba(57,9,74,1) 0%, rgba(6,18,98,1) 100%, rgba(57,9,74,1) 100%);"},primary:{main:dn},secondary:{main:pn},grey:{500:"#777"}}})},jn=function(e){var t=e.children,n=Object(D.a)().device;return Object(A.jsx)(ln.a,{theme:mn({device:n}),children:t})},bn=n(172);!function(e){e.Localnet="localnet"}(Bt||(Bt={}));var fn=function(e){var t=e.children,n=Bt.Localnet,i=Object(a.useMemo)((function(){return function(e){return e===Bt.Localnet?"https://ssc-dao.genesysgo.net/":Object(H.clusterApiUrl)(e)}(n)}),[n]),r=Object(a.useMemo)((function(){return[Object(bn.a)(),Object(bn.c)(),Object(bn.b)(),Object(bn.e)({network:n}),Object(bn.d)({network:n})]}),[n]),c=Object(a.useCallback)((function(e){l.b.error(e.message?"".concat(e.name,": ").concat(e.message):e.name),console.error(e)}),[]);return Object(A.jsx)(h.a,{endpoint:i,children:Object(A.jsx)(h.b,{wallets:r,onError:c,autoConnect:!0,children:Object(A.jsx)(ke.a,{featuredWallets:5,children:t})})})},hn=n(737),xn=n(758),On=Object(I.a)((function(e){return{root:function(e){var t=e.device;return{position:"fixed",bottom:t===K.a.Phone?20:30,right:t===K.a.Phone?20:30}},scrollButton:{color:e.palette.common.black,backgroundColor:e.palette.secondary.main,"&:hover":{boxShadow:"0px 0px 10px ".concat(e.palette.secondary.main,", inset 0px 0px 5px ").concat(e.palette.secondary.main),backgroundColor:e.palette.secondary.main}},scrollButtonIcon:{transform:"rotate(-90deg)"}}})),gn=function(){var e=Object(D.a)().device,t=On({device:e}),n=Object(a.useState)(!1),i=Object(m.a)(n,2),r=i[0],c=i[1];return Object(a.useEffect)((function(){var e=function(){window.pageYOffset>100?c(!0):c(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),Object(A.jsx)("div",{className:t.root,children:Object(A.jsx)(hn.a,{direction:"up",in:r,children:Object(A.jsx)(k.a,{size:"medium",className:t.scrollButton,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(A.jsx)(xn.a,{className:t.scrollButtonIcon})})})})},vn=(n(686),function(){return Object(A.jsxs)(K.c,{children:[Object(A.jsx)(s.a,{}),Object(A.jsx)(jn,{children:Object(A.jsx)(o.a,{children:Object(A.jsx)(fn,{children:Object(A.jsx)(Q,{children:Object(A.jsxs)(ce,{children:[Object(A.jsx)(on,{}),Object(A.jsx)(l.a,{position:"bottom-left",reverseOrder:!1,toastOptions:{duration:5e3}}),Object(A.jsx)(gn,{})]})})})})})]})}),yn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,767)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(A.jsx)(i.a.StrictMode,{children:Object(A.jsx)(vn,{})}),document.getElementById("root")),yn()},70:function(e,t,n){"use strict";var a=n(2),i=n(688),r=Object(i.a)((function(e){return{background:{width:"100vw",height:"100vh",background:"url(https://raw.githubusercontent.com/ogadwintara/SOSTOKEN/main/1.png)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",position:"fixed",filter:"blur(3px)"},content:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}})),c=n(3),s=function(e){var t=e.children,n=r();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:n.background}),Object(c.jsx)("div",{className:n.content,children:t})]})},o=n(730),l=n(696),u=n(43),d=n(22),p=Object(i.a)((function(e){return{root:function(e){return{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:e.device===d.a.Phone?"20px":"50px"}}}})),m=function(e){var t=e.children,n=Object(u.a)().device,a=p({device:n});return Object(c.jsx)(o.a,{style:{width:"90%",padding:"0 10px",display:" flex",alignItems:"center"},children:Object(c.jsx)(l.a,{className:a.root,children:t})})},j=n(14),b=n(739),f=n(691),h=n(41),x=n(421),O=n.n(x),g=n(740),v=n(741),y=n(33),w=Object(i.a)((function(e){return{root:function(e){return{width:"100%",height:e.device===d.a.Phone?"50px":"90px"}},drawerHeader:function(){return{width:"100%",height:"50px",display:"flex",justifyContent:"space-between",padding:e.spacing(0,1)}},appBar:function(e){return{height:e.device===d.a.Phone?"50px":"90px",display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:"black",alignItems:"center",boxShadow:"0 0 10px 0 #000",zIndex:99}},navContainer:{display:"flex",alignItems:"center",marginRight:"30px"},homeButton:function(){return{marginLeft:"30px",color:e.palette.primary.dark,"&:hover":{backgroundColor:"transparent"}}},navButtons:{marginLeft:"30px",color:e.palette.primary.main,"&:hover":{textShadow:"0px 0px 5px #ede65f",backgroundColor:"transparent"}},homeButtonIcon:{height:"60px",color:e.palette.primary.main},walletButtonContainer:{marginLeft:"20px"},currentLocation:{color:"black"}}})),k=n(49),S=n(762),C=n(738),N=n(168),T=Object(i.a)((function(e){return{root:{width:"100%"},paper:{backgroundColor:"rgba(57,9,74,1)"},drawerHeader:{marginLeft:"10px",height:"50px",display:"flex",justifyContent:"flex-end",alignItems:"center",padding:e.spacing(0,1)},drawerContent:{width:"100vw",marginTop:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},walletButtonContainer:{width:"76%",maxWidth:"245px",display:"flex",justifyContent:"center"},navButtonsContainer:{width:"100%",marginTop:"30px",display:"flex",flexDirection:"column",justifyContent:"center"}}})),P=n(11),I=n(58),M=n(193),A=n(51),R=Object(i.a)((function(e){return{navButtons:function(t){return{fontSize:"16px",color:t.isCurrent?Object(A.b)(e.palette.secondary.main,.1):e.palette.primary.main,"&:hover":{textShadow:"0px 0px 5px #ede65f",backgroundColor:"transparent"}}}}})),z=function(e){var t=e.label,n=e.target,a=e.onClick,i=e.size,r=e.isCurrent,s=void 0!==r&&r,o=e.className,l=Object(I.a)(e,["label","target","onClick","size","isCurrent","className"]),u=R({isCurrent:s}),d=Object(y.f)().push;return Object(c.jsx)(M.a,Object(P.a)(Object(P.a)({onClick:function(e){d(n),a&&a(e)},variant:"text",disableRipple:!0,size:i,className:"".concat(u.navButtons," ").concat(o)},l),{},{children:t}))},B=n(137),D=function(e){return e&&B.a.includes(e.toBase58())},E=function(e){var t=e.wallet,n=e.isOpen,a=e.setIsOpen,i=e.navLinksList,r=T(),s=Object(y.g)().pathname;return Object(c.jsxs)(S.a,{anchor:"left",className:r.root,classes:{paper:r.paper},open:n,onClose:function(){return a(!1)},onOpen:function(){return a(!0)},children:[Object(c.jsx)("div",{className:r.drawerHeader,children:Object(c.jsx)(f.a,{size:"medium",onClick:function(){return a(!1)},children:Object(c.jsx)(C.a,{})})}),Object(c.jsxs)("div",{className:r.drawerContent,children:[Object(c.jsx)("div",{className:r.walletButtonContainer,children:Object(c.jsx)(N.a,{})}),Object(c.jsx)("div",{className:r.navButtonsContainer,children:i.filter((function(e){var n=e.admin;return!n||n&&D(t)})).map((function(e){return Object(c.jsx)(z,{label:e.label,target:e.target,onClick:function(){return a(!1)},isCurrent:e.target===s})}))})]})]})},K=[{label:"Home",target:k.a.HOME},{label:"Raffle",target:k.a.RAFFLES},{label:"Admin Panel",target:k.a.ADMIN.HOME,admin:!0}],L=function(e){var t=e.onBackNavigation,n=Object(u.a)().device,i=w({device:n}),r=Object(h.e)(),s=(r.connected,r.publicKey),o=Object(y.f)(),l=o.push,p=o.location,m=Object(a.useState)(!1),x=Object(j.a)(m,2),S=x[0],C=x[1];return Object(c.jsxs)("div",{className:i.root,children:[Object(c.jsx)("div",{style:{width:"100%",height:n===d.a.Phone?"50px":"90px",background:"linear-gradient(0deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",backdropFilter:"blur(3px)",zIndex:98}}),Object(c.jsx)(b.a,{className:i.appBar,elevation:0,children:n===d.a.Phone?Object(c.jsxs)("div",{className:i.drawerHeader,children:[t?Object(c.jsx)(f.a,{size:"medium",onClick:function(){return t()},children:Object(c.jsx)(g.a,{})}):Object(c.jsx)(f.a,{size:"medium",onClick:function(){return l(k.a.HOME)},children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(f.a,{size:"medium",onClick:function(){return C(!0)},children:Object(c.jsx)(O.a,{})}),Object(c.jsx)(E,{wallet:s,isOpen:S,setIsOpen:C,navLinksList:K})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsx)(f.a,{onClick:function(){return l(k.a.HOME)},className:i.homeButton,children:Object(c.jsx)("img",{src:"/logothesupersol.png",alt:"thesupersol",className:i.homeButtonIcon})})}),Object(c.jsxs)("div",{className:i.navContainer,children:[K.filter((function(e){var t=e.admin;return!t||t&&D(s)})).map((function(e){var t=e.label,n=e.target;return Object(c.jsx)(z,{label:t,target:n,isCurrent:p.pathname===n,style:{marginRight:"20px"}},n)})),Object(c.jsx)("div",{className:i.walletButtonContainer,children:Object(c.jsx)(N.a,{})})]})]})})]})};t.a=function(e){var t=e.children,n=e.onBackNavigation;return Object(c.jsxs)(s,{children:[Object(c.jsx)(L,{onBackNavigation:n}),Object(c.jsx)(m,{children:t})]})}},76:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a="So11111111111111111111111111111111111111112",i={So11111111111111111111111111111111111111112:{chainId:101,address:a,symbol:"SOL",name:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",tags:[],extensions:{website:"https://solana.com/",serumV3Usdc:"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT",serumV3Usdt:"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1",coingeckoId:"solana",imageURI:"/resources/solana-logo.gif"}},zRpVjG5wMWrNhpTtSiGMz9iBaMTQDdaVGCFLmYqCs4U:{chainId:101,address:"zRpVjG5wMWrNhpTtSiGMz9iBaMTQDdaVGCFLmYqCs4U",symbol:"TT",name:"TEST TOKEN",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/9nusLQeFKiocswDt6NQsiErm1M43H2b8x6v5onhivqKv/logo.png",tags:[],extensions:{website:"https://sollama.finance",twitter:"https://twitter.com/SollamaFinance"}},"72UgZ7avdJZBbv3wR7hbWcFy6dyHHNAoJw7CimGA55Zh":{chainId:101,address:"72UgZ7avdJZBbv3wR7hbWcFy6dyHHNAoJw7CimGA55Zh",symbol:"PM1",name:"USDT",decimals:2,logoURI:"".concat("https://draffle.ngrok.io","/tether-usdt-logo.png"),tags:[],extensions:{website:"https://sollama.finance",twitter:"https://twitter.com/SollamaFinance"}},H32RbcbAoskfMVyPSTNQucEkYP2qvYLkmDg5ij4cPBhH:{chainId:101,address:"H32RbcbAoskfMVyPSTNQucEkYP2qvYLkmDg5ij4cPBhH",symbol:"PM2",name:"Prize Mint 2",decimals:0,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/9nusLQeFKiocswDt6NQsiErm1M43H2b8x6v5onhivqKv/logo.png",tags:[],extensions:{website:"https://sollama.finance",twitter:"https://twitter.com/SollamaFinance"}},DCTo8EdRrycGpjRDntmdAMoaHdq77mQwdEchtoXAtje3:{chainId:101,address:"DCTo8EdRrycGpjRDntmdAMoaHdq77mQwdEchtoXAtje3",symbol:"DCT",name:"dRaffle Community Token",decimals:6,logoURI:"/dRaffle-logo.png",tags:[]},"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU":{chainId:101,address:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",symbol:"SAMO",name:"SAMO",decimals:9,logoURI:"/resources/samo-logo.png",tags:[]},TSSR5RTciNRE4n4nude8WFmd7FpibpeCvzgjzT3Ni7t:{chainId:101,address:"TSSR5RTciNRE4n4nude8WFmd7FpibpeCvzgjzT3Ni7t",symbol:"TSOS",name:"TheSuperSOL",decimals:9,logoURI:"https://raw.githubusercontent.com/ogadwintara/SOSTOKEN/main/logotoken.png",tags:[]}},r=new Map(Object.entries(i)),c={chainId:101,symbol:"???",name:"Unkown token",decimals:0,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/9nusLQeFKiocswDt6NQsiErm1M43H2b8x6v5onhivqKv/logo.png",tags:[],extensions:{}}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(1),i=n.n(a),r=n(4),c=n(6),s=n(9),o=n(50),l=n(73),u=n(52),d=function(){function e(){Object(c.a)(this,e),this.publicKey=void 0}return Object(s.a)(e,[{key:"signTransaction",value:function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAllTransactions",value:function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),p=function(e,t){var n=new o.a(e,t||new d,{});return n.sendAndConfirm=function(){var n=Object(r.a)(i.a.mark((function n(a,r,c){var s,o,l,d;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===r&&(r=[]),a.feePayer=null===t||void 0===t?void 0:t.publicKey,n.next=4,e.getRecentBlockhash();case 4:return a.recentBlockhash=n.sent.blockhash,n.next=7,null===t||void 0===t?void 0:t.signTransaction(a);case 7:return r.filter((function(e){return void 0!==e})).forEach((function(e){a.partialSign(e)})),s=a.serialize(),n.next=11,e.sendRawTransaction(s);case 11:o=n.sent,l=0;case 13:if(!(l<30)){n.next=24;break}return n.next=16,e.getSignatureStatus(o);case 16:if("confirmed"!==(null===(d=n.sent.value)||void 0===d?void 0:d.confirmationStatus)){n.next=19;break}return n.abrupt("break",24);case 19:return n.next=21,Object(u.d)(1e3);case 21:l++,n.next=13;break;case 24:return n.abrupt("return",o);case 25:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}(),n},m=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return a=e.sent,console.log("Success:",a),l.b.success(n),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0.msg?l.b.error("Transaction failed: ".concat(e.t0.msg)):l.b.error("Unexpected error"),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},84:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(18),i="rafFdvfcsjMa4hovvBp18xbU8wiTfnVEEsHiAfFmwCK",r=new a.PublicKey("B2jCF3V3hCCPcwsXPtjMhXVjzafXU68EMJWz3eKZ2kVa"),c=a.Keypair.fromSecretKey(new Uint8Array(JSON.parse("[113,246,58,68,183,214,165,226,130,213,55,129,156,201,172,105,111,136,155,207,144,229,30,38,74,227,178,43,236,162,23,240,100,81,218,27,7,195,198,164,28,100,47,51,189,51,38,157,184,2,142,202,178,230,107,50,138,56,189,81,109,139,156,145]"))),s=c.publicKey}},[[687,1,2]]]);